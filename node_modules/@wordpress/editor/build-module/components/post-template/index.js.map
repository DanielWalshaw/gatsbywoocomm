{"version":3,"sources":["@wordpress/editor/src/components/post-template/index.js"],"names":["isEmpty","map","__","SelectControl","useSelect","useDispatch","store","coreStore","editorStore","PostTemplate","select","getEditedPostAttribute","getEditorSettings","getCurrentPostType","getPostType","selectedTemplate","availableTemplates","isViewable","viewable","editPost","templateSlug","template","templateName","value","label"],"mappings":";;;AAAA;AACA;AACA;AACA,SAASA,OAAT,EAAkBC,GAAlB,QAA6B,QAA7B;AAEA;AACA;AACA;;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,iBAAvC;AACA,SAASC,KAAK,IAAIC,SAAlB,QAAmC,sBAAnC;AAEA;AACA;AACA;;AACA,SAASD,KAAK,IAAIE,WAAlB,QAAqC,aAArC;AAEA,OAAO,SAASC,YAAT,OAA4B;AAAA;;AAAA,mBAC2BL,SAAS,CACrE,UAAEM,MAAF,EAAc;AAAA;;AAAA,kBAKTA,MAAM,CAAEF,WAAF,CALG;AAAA,QAEZG,sBAFY,WAEZA,sBAFY;AAAA,QAGZC,iBAHY,WAGZA,iBAHY;AAAA,QAIZC,kBAJY,WAIZA,kBAJY;;AAAA,mBAMWH,MAAM,CAAEH,SAAF,CANjB;AAAA,QAMLO,WANK,YAMLA,WANK;;AAQb,WAAO;AACNC,MAAAA,gBAAgB,EAAEJ,sBAAsB,CAAE,UAAF,CADlC;AAENK,MAAAA,kBAAkB,EAAEJ,iBAAiB,GAAGI,kBAFlC;AAGNC,MAAAA,UAAU,2CACTH,WAAW,CAAED,kBAAkB,EAApB,CADF,iDACT,aAAqCK,QAD5B,yEACwC;AAJ5C,KAAP;AAMA,GAfoE,EAgBrE,EAhBqE,CADpC;AAAA,MAC1BF,kBAD0B,cAC1BA,kBAD0B;AAAA,MACND,gBADM,cACNA,gBADM;AAAA,MACYE,UADZ,cACYA,UADZ;;AAAA,qBAoBbZ,WAAW,CAAEG,WAAF,CApBE;AAAA,MAoB1BW,QApB0B,gBAoB1BA,QApB0B;;AAsBlC,MAAK,CAAEF,UAAF,IAAgBjB,OAAO,CAAEgB,kBAAF,CAA5B,EAAqD;AACpD,WAAO,IAAP;AACA;;AAED,SACC,cAAC,aAAD;AACC,IAAA,KAAK,EAAGd,EAAE,CAAE,WAAF,CADX;AAEC,IAAA,KAAK,EAAGa,gBAFT;AAGC,IAAA,QAAQ,EAAG,kBAAEK,YAAF,EAAoB;AAC9BD,MAAAA,QAAQ,CAAE;AACTE,QAAAA,QAAQ,EAAED,YAAY,IAAI;AADjB,OAAF,CAAR;AAGA,KAPF;AAQC,IAAA,OAAO,EAAGnB,GAAG,CACZe,kBADY,EAEZ,UAAEM,YAAF,EAAgBF,YAAhB;AAAA,aAAoC;AACnCG,QAAAA,KAAK,EAAEH,YAD4B;AAEnCI,QAAAA,KAAK,EAAEF;AAF4B,OAApC;AAAA,KAFY;AARd,IADD;AAkBA;AAED,eAAeb,YAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { isEmpty, map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { SelectControl } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport function PostTemplate( {} ) {\n\tconst { availableTemplates, selectedTemplate, isViewable } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetEditedPostAttribute,\n\t\t\t\tgetEditorSettings,\n\t\t\t\tgetCurrentPostType,\n\t\t\t} = select( editorStore );\n\t\t\tconst { getPostType } = select( coreStore );\n\n\t\t\treturn {\n\t\t\t\tselectedTemplate: getEditedPostAttribute( 'template' ),\n\t\t\t\tavailableTemplates: getEditorSettings().availableTemplates,\n\t\t\t\tisViewable:\n\t\t\t\t\tgetPostType( getCurrentPostType() )?.viewable ?? false,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst { editPost } = useDispatch( editorStore );\n\n\tif ( ! isViewable || isEmpty( availableTemplates ) ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<SelectControl\n\t\t\tlabel={ __( 'Template:' ) }\n\t\t\tvalue={ selectedTemplate }\n\t\t\tonChange={ ( templateSlug ) => {\n\t\t\t\teditPost( {\n\t\t\t\t\ttemplate: templateSlug || '',\n\t\t\t\t} );\n\t\t\t} }\n\t\t\toptions={ map(\n\t\t\t\tavailableTemplates,\n\t\t\t\t( templateName, templateSlug ) => ( {\n\t\t\t\t\tvalue: templateSlug,\n\t\t\t\t\tlabel: templateName,\n\t\t\t\t} )\n\t\t\t) }\n\t\t/>\n\t);\n}\n\nexport default PostTemplate;\n"]}