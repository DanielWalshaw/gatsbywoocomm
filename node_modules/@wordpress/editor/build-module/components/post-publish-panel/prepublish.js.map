{"version":3,"sources":["@wordpress/editor/src/components/post-publish-panel/prepublish.js"],"names":["get","__","Icon","PanelBody","useSelect","wordpress","filterURLForDisplay","PostVisibility","PostVisibilityLabel","PostSchedule","PostScheduleLabel","MaybeTagsPanel","MaybePostFormatPanel","PostPublishPanelPrepublish","children","select","isResolving","getCurrentPost","isEditedPostBeingScheduled","getEntityRecord","siteData","undefined","hasPublishAction","isBeingScheduled","isRequestingSiteIcon","siteIconUrl","site_icon_url","siteTitle","name","siteHome","home","siteIcon","prePublishTitle","prePublishBodyText"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Icon, PanelBody } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { wordpress } from '@wordpress/icons';\nimport { filterURLForDisplay } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport PostVisibility from '../post-visibility';\nimport PostVisibilityLabel from '../post-visibility/label';\nimport PostSchedule from '../post-schedule';\nimport PostScheduleLabel from '../post-schedule/label';\nimport MaybeTagsPanel from './maybe-tags-panel';\nimport MaybePostFormatPanel from './maybe-post-format-panel';\n\nfunction PostPublishPanelPrepublish( { children } ) {\n\tconst {\n\t\tisBeingScheduled,\n\t\tisRequestingSiteIcon,\n\t\thasPublishAction,\n\t\tsiteIconUrl,\n\t\tsiteTitle,\n\t\tsiteHome,\n\t} = useSelect( ( select ) => {\n\t\tconst { isResolving } = select( 'core/data' );\n\t\tconst { getCurrentPost, isEditedPostBeingScheduled } = select(\n\t\t\t'core/editor'\n\t\t);\n\t\tconst { getEntityRecord } = select( 'core' );\n\t\tconst siteData =\n\t\t\tgetEntityRecord( 'root', '__unstableBase', undefined ) || {};\n\n\t\treturn {\n\t\t\thasPublishAction: get(\n\t\t\t\tgetCurrentPost(),\n\t\t\t\t[ '_links', 'wp:action-publish' ],\n\t\t\t\tfalse\n\t\t\t),\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tisRequestingSiteIcon: isResolving( 'core', 'getEntityRecord', [\n\t\t\t\t'root',\n\t\t\t\t'__unstableBase',\n\t\t\t\tundefined,\n\t\t\t] ),\n\t\t\tsiteIconUrl: siteData.site_icon_url,\n\t\t\tsiteTitle: siteData.name,\n\t\t\tsiteHome: siteData.home && filterURLForDisplay( siteData.home ),\n\t\t};\n\t}, [] );\n\n\tlet siteIcon = (\n\t\t<Icon className=\"components-site-icon\" size=\"36px\" icon={ wordpress } />\n\t);\n\n\tif ( siteIconUrl ) {\n\t\tsiteIcon = (\n\t\t\t<img\n\t\t\t\talt={ __( 'Site Icon' ) }\n\t\t\t\tclassName=\"components-site-icon\"\n\t\t\t\tsrc={ siteIconUrl }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( isRequestingSiteIcon ) {\n\t\tsiteIcon = null;\n\t}\n\n\tlet prePublishTitle, prePublishBodyText;\n\n\tif ( ! hasPublishAction ) {\n\t\tprePublishTitle = __( 'Are you ready to submit for review?' );\n\t\tprePublishBodyText = __(\n\t\t\t'When youâ€™re ready, submit your work for review, and an Editor will be able to approve it for you.'\n\t\t);\n\t} else if ( isBeingScheduled ) {\n\t\tprePublishTitle = __( 'Are you ready to schedule?' );\n\t\tprePublishBodyText = __(\n\t\t\t'Your work will be published at the specified date and time.'\n\t\t);\n\t} else {\n\t\tprePublishTitle = __( 'Are you ready to publish?' );\n\t\tprePublishBodyText = __(\n\t\t\t'Double-check your settings before publishing.'\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"editor-post-publish-panel__prepublish\">\n\t\t\t<div>\n\t\t\t\t<strong>{ prePublishTitle }</strong>\n\t\t\t</div>\n\t\t\t<p>{ prePublishBodyText }</p>\n\t\t\t<div className=\"components-site-card\">\n\t\t\t\t{ siteIcon }\n\t\t\t\t<div className=\"components-site-info\">\n\t\t\t\t\t<span className=\"components-site-name\">\n\t\t\t\t\t\t{ siteTitle || __( '(Untitled)' ) }\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"components-site-home\">{ siteHome }</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{ hasPublishAction && (\n\t\t\t\t<>\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\ttitle={ [\n\t\t\t\t\t\t\t__( 'Visibility:' ),\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"editor-post-publish-panel__link\"\n\t\t\t\t\t\t\t\tkey=\"label\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PostVisibilityLabel />\n\t\t\t\t\t\t\t</span>,\n\t\t\t\t\t\t] }\n\t\t\t\t\t>\n\t\t\t\t\t\t<PostVisibility />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\ttitle={ [\n\t\t\t\t\t\t\t__( 'Publish:' ),\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"editor-post-publish-panel__link\"\n\t\t\t\t\t\t\t\tkey=\"label\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PostScheduleLabel />\n\t\t\t\t\t\t\t</span>,\n\t\t\t\t\t\t] }\n\t\t\t\t\t>\n\t\t\t\t\t\t<PostSchedule />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t<MaybePostFormatPanel />\n\t\t\t<MaybeTagsPanel />\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default PostPublishPanelPrepublish;\n"]}