{"version":3,"sources":["@wordpress/block-library/src/button/edit.native.js"],"names":["MIN_BORDER_RADIUS_VALUE","MAX_BORDER_RADIUS_VALUE","INITIAL_MAX_WIDTH","MIN_WIDTH","MIN_WIDTH_MARGINS","styles","button75","marginLeft","button50","button25","WidthPanel","selectedWidth","setAttributes","handleChange","newWidth","width","undefined","options","value","label","ButtonEdit","props","onChangeText","bind","onChangeBorderRadius","onClearSettings","onLayout","onSetMaxWidth","dismissSheet","onShowLinkSettings","onHideLinkSettings","onToggleButtonFocus","onPlaceholderTextWidth","setRef","onRemove","getPlaceholderWidth","state","maxWidth","isLinkSheetVisible","isButtonFocused","placeholderTextWidth","linkSettingsActions","onPress","linkSettingsOptions","url","placeholder","autoFocus","autoFill","openInNewTab","linkRel","noFocusLinkSettingOptions","prevProps","prevState","isSelected","editorSidebarOpened","parentWidth","Platform","OS","richTextRef","blur","AccessibilityInfo","isScreenReaderEnabled","then","enabled","focus","attributes","colors","gradients","backgroundColor","gradient","gradientValue","colorProps","colorObject","color","style","background","defaultButton","textColor","text","borderRadius","setState","rel","linkTarget","nativeEvent","layout","isParentWidthDidChange","spacing","marginRight","isParentWidthChanged","isWidthChanged","numOfButtons","onDeleteBlock","onReplace","closeSettingsBottomSheet","isCompatibleWithSettings","richText","placeholderText","textWidth","lines","Math","min","clientId","mergeBlocks","align","paddingTop","borderWidth","borderRadiusValue","Number","isInteger","outlineBorderRadius","minWidth","floor","getBackgroundColor","getTextColor","isFixedWidth","outline","borderColor","richTextStyle","paddingLeft","paddingRight","placeholderTextColor","link","getLinkSettings","Component","withInstanceId","withGradient","select","isEditorSidebarOpened","blockEditorStore","getBlockCount","getBlockRootClientId","getSettings","parentId","settings","dispatch","closeGeneralSidebar"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { View, AccessibilityInfo, Platform, Text } from 'react-native';\n/**\n * WordPress dependencies\n */\nimport { withInstanceId, compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tRichText,\n\tInspectorControls,\n\tBlockControls,\n\twithGradient,\n\tstore as blockEditorStore,\n\tgetColorObjectByAttributeValues,\n\tgetGradientValueBySlug,\n\t__experimentalGetColorClassesAndStyles as getColorClassesAndStyles,\n} from '@wordpress/block-editor';\nimport {\n\tPanelBody,\n\tRangeControl,\n\tToolbarGroup,\n\tToolbarButton,\n\tLinkSettingsNavigation,\n\tBottomSheetSelectControl,\n} from '@wordpress/components';\nimport { Component } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { link } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport richTextStyle from './rich-text.scss';\nimport styles from './editor.scss';\nimport ColorBackground from './color-background';\nimport ColorEdit from './color-edit';\n\nconst MIN_BORDER_RADIUS_VALUE = 0;\nconst MAX_BORDER_RADIUS_VALUE = 50;\nconst INITIAL_MAX_WIDTH = 108;\nconst MIN_WIDTH = 40;\n// Map of the percentage width to pixel subtraction that make the buttons fit nicely into columns.\nconst MIN_WIDTH_MARGINS = {\n\t100: 0,\n\t75: styles.button75?.marginLeft,\n\t50: styles.button50?.marginLeft,\n\t25: styles.button25?.marginLeft,\n};\n\nfunction WidthPanel( { selectedWidth, setAttributes } ) {\n\tfunction handleChange( newWidth ) {\n\t\t// Check if we are toggling the width off\n\t\tlet width = selectedWidth === newWidth ? undefined : newWidth;\n\t\tif ( newWidth === 'auto' ) {\n\t\t\twidth = undefined;\n\t\t}\n\t\t// Update attributes\n\t\tsetAttributes( { width } );\n\t}\n\n\tconst options = [\n\t\t{ value: 'auto', label: __( 'Auto' ) },\n\t\t{ value: 25, label: '25%' },\n\t\t{ value: 50, label: '50%' },\n\t\t{ value: 75, label: '75%' },\n\t\t{ value: 100, label: '100%' },\n\t];\n\n\tif ( ! selectedWidth ) {\n\t\tselectedWidth = 'auto';\n\t}\n\n\treturn (\n\t\t<PanelBody title={ __( 'Width Settings' ) }>\n\t\t\t<BottomSheetSelectControl\n\t\t\t\tlabel={ __( 'Button width' ) }\n\t\t\t\tvalue={ selectedWidth }\n\t\t\t\tonChange={ handleChange }\n\t\t\t\toptions={ options }\n\t\t\t/>\n\t\t</PanelBody>\n\t);\n}\n\nclass ButtonEdit extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.onChangeText = this.onChangeText.bind( this );\n\t\tthis.onChangeBorderRadius = this.onChangeBorderRadius.bind( this );\n\t\tthis.onClearSettings = this.onClearSettings.bind( this );\n\t\tthis.onLayout = this.onLayout.bind( this );\n\t\tthis.onSetMaxWidth = this.onSetMaxWidth.bind( this );\n\t\tthis.dismissSheet = this.dismissSheet.bind( this );\n\t\tthis.onShowLinkSettings = this.onShowLinkSettings.bind( this );\n\t\tthis.onHideLinkSettings = this.onHideLinkSettings.bind( this );\n\t\tthis.onToggleButtonFocus = this.onToggleButtonFocus.bind( this );\n\t\tthis.onPlaceholderTextWidth = this.onPlaceholderTextWidth.bind( this );\n\t\tthis.setRef = this.setRef.bind( this );\n\t\tthis.onRemove = this.onRemove.bind( this );\n\t\tthis.getPlaceholderWidth = this.getPlaceholderWidth.bind( this );\n\n\t\tthis.state = {\n\t\t\tmaxWidth: INITIAL_MAX_WIDTH,\n\t\t\tisLinkSheetVisible: false,\n\t\t\tisButtonFocused: true,\n\t\t\tplaceholderTextWidth: 0,\n\t\t};\n\n\t\tthis.linkSettingsActions = [\n\t\t\t{\n\t\t\t\tlabel: __( 'Remove link' ),\n\t\t\t\tonPress: this.onClearSettings,\n\t\t\t},\n\t\t];\n\n\t\tthis.linkSettingsOptions = {\n\t\t\turl: {\n\t\t\t\tlabel: __( 'Button Link URL' ),\n\t\t\t\tplaceholder: __( 'Add URL' ),\n\t\t\t\tautoFocus: true,\n\t\t\t\tautoFill: true,\n\t\t\t},\n\t\t\topenInNewTab: {\n\t\t\t\tlabel: __( 'Open in new tab' ),\n\t\t\t},\n\t\t\tlinkRel: {\n\t\t\t\tlabel: __( 'Link Rel' ),\n\t\t\t\tplaceholder: __( 'None' ),\n\t\t\t},\n\t\t};\n\n\t\tthis.noFocusLinkSettingOptions = {\n\t\t\t...this.linkSettingsOptions,\n\t\t\turl: {\n\t\t\t\t...this.linkSettingsOptions.url,\n\t\t\t\tautoFocus: false,\n\t\t\t},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.onSetMaxWidth();\n\t}\n\n\tcomponentDidUpdate( prevProps, prevState ) {\n\t\tconst { isSelected, editorSidebarOpened, parentWidth } = this.props;\n\t\tconst { isLinkSheetVisible, isButtonFocused } = this.state;\n\n\t\tif ( isSelected && ! prevProps.isSelected ) {\n\t\t\tthis.onToggleButtonFocus( true );\n\t\t}\n\n\t\tif ( prevProps.parentWidth !== parentWidth ) {\n\t\t\tthis.onSetMaxWidth( null, true );\n\t\t}\n\n\t\t// Blur `RichText` on Android when link settings sheet or button settings sheet is opened,\n\t\t// to avoid flashing caret after closing one of them\n\t\tif (\n\t\t\t( ! prevProps.editorSidebarOpened && editorSidebarOpened ) ||\n\t\t\t( ! prevState.isLinkSheetVisible && isLinkSheetVisible )\n\t\t) {\n\t\t\tif ( Platform.OS === 'android' && this.richTextRef ) {\n\t\t\t\tthis.richTextRef.blur();\n\t\t\t\tthis.onToggleButtonFocus( false );\n\t\t\t}\n\t\t}\n\n\t\tif ( this.richTextRef ) {\n\t\t\tif ( ! isSelected && isButtonFocused ) {\n\t\t\t\tthis.onToggleButtonFocus( false );\n\t\t\t}\n\n\t\t\tif ( isSelected && ! isButtonFocused ) {\n\t\t\t\tAccessibilityInfo.isScreenReaderEnabled().then( ( enabled ) => {\n\t\t\t\t\tif ( enabled ) {\n\t\t\t\t\t\tthis.onToggleButtonFocus( true );\n\t\t\t\t\t\tthis.richTextRef.focus();\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\tgetBackgroundColor() {\n\t\tconst { attributes, colors, gradients } = this.props;\n\t\tconst { backgroundColor, gradient } = attributes;\n\n\t\t// Return named gradient value if available.\n\t\tconst gradientValue = getGradientValueBySlug( gradients, gradient );\n\n\t\tif ( gradientValue ) {\n\t\t\treturn gradientValue;\n\t\t}\n\n\t\tconst colorProps = getColorClassesAndStyles( attributes );\n\n\t\t// Retrieve named color object to force inline styles for themes that\n\t\t// do not load their color stylesheets in the editor.\n\t\tconst colorObject = getColorObjectByAttributeValues(\n\t\t\tcolors,\n\t\t\tbackgroundColor\n\t\t);\n\n\t\treturn (\n\t\t\tcolorObject?.color ||\n\t\t\tcolorProps.style?.backgroundColor ||\n\t\t\tcolorProps.style?.background ||\n\t\t\tstyles.defaultButton.backgroundColor\n\t\t);\n\t}\n\n\tgetTextColor() {\n\t\tconst { attributes, colors } = this.props;\n\t\tconst colorProps = getColorClassesAndStyles( attributes );\n\n\t\t// Retrieve named color object to force inline styles for themes that\n\t\t// do not load their color stylesheets in the editor.\n\t\tconst colorObject = getColorObjectByAttributeValues(\n\t\t\tcolors,\n\t\t\tattributes.textColor\n\t\t);\n\n\t\treturn (\n\t\t\tcolorObject?.color ||\n\t\t\tcolorProps.style?.color ||\n\t\t\tstyles.defaultButton.color\n\t\t);\n\t}\n\n\tonChangeText( value ) {\n\t\tconst { setAttributes } = this.props;\n\t\tsetAttributes( { text: value } );\n\t}\n\n\tonChangeBorderRadius( value ) {\n\t\tconst { setAttributes } = this.props;\n\t\tsetAttributes( {\n\t\t\tborderRadius: value,\n\t\t} );\n\t}\n\n\tonShowLinkSettings() {\n\t\tthis.setState( { isLinkSheetVisible: true } );\n\t}\n\n\tonHideLinkSettings() {\n\t\tthis.setState( { isLinkSheetVisible: false } );\n\t}\n\n\tonToggleButtonFocus( value ) {\n\t\tif ( value !== this.state.isButtonFocused ) {\n\t\t\tthis.setState( { isButtonFocused: value } );\n\t\t}\n\t}\n\n\tonClearSettings() {\n\t\tconst { setAttributes } = this.props;\n\n\t\tsetAttributes( {\n\t\t\turl: '',\n\t\t\trel: '',\n\t\t\tlinkTarget: '',\n\t\t} );\n\n\t\tthis.onHideLinkSettings();\n\t}\n\n\tonLayout( { nativeEvent } ) {\n\t\tconst { width } = nativeEvent.layout;\n\t\tthis.onSetMaxWidth( width );\n\t}\n\n\tonSetMaxWidth( width, isParentWidthDidChange = false ) {\n\t\tconst { maxWidth } = this.state;\n\t\tconst { parentWidth } = this.props;\n\t\tconst { marginRight: spacing } = styles.defaultButton;\n\n\t\tconst isParentWidthChanged = isParentWidthDidChange\n\t\t\t? isParentWidthDidChange\n\t\t\t: maxWidth !== parentWidth;\n\t\tconst isWidthChanged = maxWidth !== width;\n\n\t\tif ( parentWidth && ! width && isParentWidthChanged ) {\n\t\t\tthis.setState( {\n\t\t\t\tmaxWidth: parentWidth - spacing,\n\t\t\t} );\n\t\t} else if ( ! parentWidth && width && isWidthChanged ) {\n\t\t\tthis.setState( { maxWidth: width - spacing } );\n\t\t}\n\t}\n\n\tonRemove() {\n\t\tconst { numOfButtons, onDeleteBlock, onReplace } = this.props;\n\n\t\tif ( numOfButtons === 1 ) {\n\t\t\tonDeleteBlock();\n\t\t} else {\n\t\t\tonReplace( [] );\n\t\t}\n\t}\n\n\tdismissSheet() {\n\t\tthis.onHideLinkSettings();\n\t\tthis.props.closeSettingsBottomSheet();\n\t}\n\n\tgetLinkSettings( isCompatibleWithSettings ) {\n\t\tconst { isLinkSheetVisible } = this.state;\n\t\tconst { attributes, setAttributes } = this.props;\n\t\treturn (\n\t\t\t<LinkSettingsNavigation\n\t\t\t\tisVisible={ isLinkSheetVisible }\n\t\t\t\turl={ attributes.url }\n\t\t\t\trel={ attributes.rel }\n\t\t\t\tlinkTarget={ attributes.linkTarget }\n\t\t\t\tonClose={ this.dismissSheet }\n\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\twithBottomSheet={ ! isCompatibleWithSettings }\n\t\t\t\thasPicker\n\t\t\t\tactions={ this.linkSettingsActions }\n\t\t\t\toptions={\n\t\t\t\t\tisCompatibleWithSettings\n\t\t\t\t\t\t? this.linkSettingsOptions\n\t\t\t\t\t\t: this.noFocusLinkSettingOptions\n\t\t\t\t}\n\t\t\t\tshowIcon={ ! isCompatibleWithSettings }\n\t\t\t/>\n\t\t);\n\t}\n\n\tsetRef( richText ) {\n\t\tthis.richTextRef = richText;\n\t}\n\n\t// Render `Text` with `placeholderText` styled as a placeholder\n\t// to calculate its width which then is set as a `minWidth`\n\tgetPlaceholderWidth( placeholderText ) {\n\t\treturn (\n\t\t\t<Text\n\t\t\t\tstyle={ styles.placeholder }\n\t\t\t\tonTextLayout={ this.onPlaceholderTextWidth }\n\t\t\t>\n\t\t\t\t{ placeholderText }\n\t\t\t</Text>\n\t\t);\n\t}\n\n\tonPlaceholderTextWidth( { nativeEvent } ) {\n\t\tconst { maxWidth, placeholderTextWidth } = this.state;\n\t\tconst textWidth =\n\t\t\tnativeEvent.lines[ 0 ] && nativeEvent.lines[ 0 ].width;\n\n\t\tif ( textWidth && textWidth !== placeholderTextWidth ) {\n\t\t\tthis.setState( {\n\t\t\t\tplaceholderTextWidth: Math.min( textWidth, maxWidth ),\n\t\t\t} );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tattributes,\n\t\t\tisSelected,\n\t\t\tclientId,\n\t\t\tonReplace,\n\t\t\tmergeBlocks,\n\t\t\tparentWidth,\n\t\t\tsetAttributes,\n\t\t} = this.props;\n\t\tconst {\n\t\t\tplaceholder,\n\t\t\ttext,\n\t\t\tborderRadius,\n\t\t\turl,\n\t\t\talign = 'center',\n\t\t\twidth,\n\t\t} = attributes;\n\t\tconst { maxWidth, isButtonFocused, placeholderTextWidth } = this.state;\n\t\tconst { paddingTop: spacing, borderWidth } = styles.defaultButton;\n\n\t\tif ( parentWidth === 0 ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst borderRadiusValue = Number.isInteger( borderRadius )\n\t\t\t? borderRadius\n\t\t\t: styles.defaultButton.borderRadius;\n\t\tconst outlineBorderRadius =\n\t\t\tborderRadiusValue > 0\n\t\t\t\t? borderRadiusValue + spacing + borderWidth\n\t\t\t\t: 0;\n\n\t\t// To achieve proper expanding and shrinking `RichText` on iOS, there is a need to set a `minWidth`\n\t\t// value at least on 1 when `RichText` is focused or when is not focused, but `RichText` value is\n\t\t// different than empty string.\n\t\tlet minWidth =\n\t\t\tisButtonFocused || ( ! isButtonFocused && text && text !== '' )\n\t\t\t\t? MIN_WIDTH\n\t\t\t\t: placeholderTextWidth;\n\t\tif ( width ) {\n\t\t\t// Set the width of the button.\n\t\t\tminWidth = Math.floor(\n\t\t\t\tmaxWidth * ( width / 100 ) - MIN_WIDTH_MARGINS[ width ]\n\t\t\t);\n\t\t}\n\t\t// To achieve proper expanding and shrinking `RichText` on Android, there is a need to set\n\t\t// a `placeholder` as an empty string when `RichText` is focused,\n\t\t// because `AztecView` is calculating a `minWidth` based on placeholder text.\n\t\tconst placeholderText =\n\t\t\tisButtonFocused || ( ! isButtonFocused && text && text !== '' )\n\t\t\t\t? ''\n\t\t\t\t: placeholder || __( 'Add textâ€¦' );\n\n\t\tconst backgroundColor = this.getBackgroundColor();\n\t\tconst textColor = this.getTextColor();\n\t\tconst isFixedWidth = !! width;\n\n\t\treturn (\n\t\t\t<View onLayout={ this.onLayout }>\n\t\t\t\t{ this.getPlaceholderWidth( placeholderText ) }\n\t\t\t\t<ColorBackground\n\t\t\t\t\tborderRadiusValue={ borderRadiusValue }\n\t\t\t\t\tbackgroundColor={ backgroundColor }\n\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t>\n\t\t\t\t\t{ isSelected && (\n\t\t\t\t\t\t<View\n\t\t\t\t\t\t\tpointerEvents=\"none\"\n\t\t\t\t\t\t\tstyle={ [\n\t\t\t\t\t\t\t\tstyles.outline,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tborderRadius: outlineBorderRadius,\n\t\t\t\t\t\t\t\t\tborderColor: backgroundColor,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tsetRef={ this.setRef }\n\t\t\t\t\t\tplaceholder={ placeholderText }\n\t\t\t\t\t\tvalue={ text }\n\t\t\t\t\t\tonChange={ this.onChangeText }\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t...richTextStyle.richText,\n\t\t\t\t\t\t\tpaddingLeft: isFixedWidth\n\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t: richTextStyle.richText.paddingLeft,\n\t\t\t\t\t\t\tpaddingRight: isFixedWidth\n\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t: richTextStyle.richText.paddingRight,\n\t\t\t\t\t\t\tcolor: textColor,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\ttextAlign={ align }\n\t\t\t\t\t\tplaceholderTextColor={\n\t\t\t\t\t\t\tstyles.placeholderTextColor.color\n\t\t\t\t\t\t}\n\t\t\t\t\t\tidentifier=\"text\"\n\t\t\t\t\t\ttagName=\"p\"\n\t\t\t\t\t\tminWidth={ minWidth } // The minimum Button size.\n\t\t\t\t\t\tmaxWidth={ isFixedWidth ? minWidth : maxWidth } // The width of the screen.\n\t\t\t\t\t\tid={ clientId }\n\t\t\t\t\t\tisSelected={ isButtonFocused }\n\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\tunstableOnFocus={ () =>\n\t\t\t\t\t\t\tthis.onToggleButtonFocus( true )\n\t\t\t\t\t\t}\n\t\t\t\t\t\t__unstableMobileNoFocusOnMount={ ! isSelected }\n\t\t\t\t\t\tselectionColor={ textColor }\n\t\t\t\t\t\tonBlur={ () => {\n\t\t\t\t\t\t\tthis.onSetMaxWidth();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonReplace={ onReplace }\n\t\t\t\t\t\tonRemove={ this.onRemove }\n\t\t\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\t\t/>\n\t\t\t\t</ColorBackground>\n\n\t\t\t\t{ isSelected && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\t\t\ttitle={ __( 'Edit link' ) }\n\t\t\t\t\t\t\t\t\ticon={ link }\n\t\t\t\t\t\t\t\t\tonClick={ this.onShowLinkSettings }\n\t\t\t\t\t\t\t\t\tisActive={ url }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t\t\t</BlockControls>\n\t\t\t\t\t\t{ this.getLinkSettings( false ) }\n\t\t\t\t\t\t<ColorEdit { ...this.props } />\n\t\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t\t<PanelBody title={ __( 'Border Settings' ) }>\n\t\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Border Radius' ) }\n\t\t\t\t\t\t\t\t\tminimumValue={ MIN_BORDER_RADIUS_VALUE }\n\t\t\t\t\t\t\t\t\tmaximumValue={ MAX_BORDER_RADIUS_VALUE }\n\t\t\t\t\t\t\t\t\tvalue={ borderRadiusValue }\n\t\t\t\t\t\t\t\t\tonChange={ this.onChangeBorderRadius }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t\t<WidthPanel\n\t\t\t\t\t\t\t\tselectedWidth={ width }\n\t\t\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PanelBody title={ __( 'Link Settings' ) }>\n\t\t\t\t\t\t\t\t{ this.getLinkSettings( true ) }\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t</InspectorControls>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithInstanceId,\n\twithGradient,\n\twithSelect( ( select, { clientId, isSelected } ) => {\n\t\tconst { isEditorSidebarOpened } = select( 'core/edit-post' );\n\t\tconst { getBlockCount, getBlockRootClientId, getSettings } = select(\n\t\t\tblockEditorStore\n\t\t);\n\t\tconst parentId = getBlockRootClientId( clientId );\n\t\tconst numOfButtons = getBlockCount( parentId );\n\t\tconst settings = getSettings();\n\n\t\treturn {\n\t\t\tcolors: settings?.colors || [],\n\t\t\tgradients: settings?.gradients || [],\n\t\t\teditorSidebarOpened: isSelected && isEditorSidebarOpened(),\n\t\t\tnumOfButtons,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\treturn {\n\t\t\tcloseSettingsBottomSheet() {\n\t\t\t\tdispatch( 'core/edit-post' ).closeGeneralSidebar();\n\t\t\t},\n\t\t};\n\t} ),\n] )( ButtonEdit );\n"]}