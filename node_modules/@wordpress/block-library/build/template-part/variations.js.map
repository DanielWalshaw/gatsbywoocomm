{"version":3,"sources":["@wordpress/block-library/src/template-part/variations.js"],"names":["variations","name","title","description","icon","header","attributes","area","scope","footer","forEach","variation","isActive","blockAttributes","variationAttributes","theme","slug","entity","coreDataStore","getEntityRecord"],"mappings":";;;;;;;AAGA;;AACA;;AACA;;AACA;;AANA;AACA;AACA;AAMA,IAAMA,UAAU,GAAG,CAClB;AACCC,EAAAA,IAAI,EAAE,QADP;AAECC,EAAAA,KAAK,EAAE,cAAI,QAAJ,CAFR;AAGCC,EAAAA,WAAW,EAAE,cACZ,+KADY,CAHd;AAMCC,EAAAA,IAAI,EAAEC,aANP;AAOCC,EAAAA,UAAU,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAPb;AAQCC,EAAAA,KAAK,EAAE,CAAE,UAAF;AARR,CADkB,EAWlB;AACCP,EAAAA,IAAI,EAAE,QADP;AAECC,EAAAA,KAAK,EAAE,cAAI,QAAJ,CAFR;AAGCC,EAAAA,WAAW,EAAE,cACZ,2MADY,CAHd;AAMCC,EAAAA,IAAI,EAAEK,aANP;AAOCH,EAAAA,UAAU,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAPb;AAQCC,EAAAA,KAAK,EAAE,CAAE,UAAF;AARR,CAXkB,CAAnB;AAuBA;AACA;AACA;AACA;AACA;;AACAR,UAAU,CAACU,OAAX,CAAoB,UAAEC,SAAF,EAAiB;AACpC,MAAKA,SAAS,CAACC,QAAf,EAA0B;;AAC1BD,EAAAA,SAAS,CAACC,QAAV,GAAqB,UAAEC,eAAF,EAAmBC,mBAAnB,EAA4C;AAAA,QACxDP,IADwD,GAClCM,eADkC,CACxDN,IADwD;AAAA,QAClDQ,KADkD,GAClCF,eADkC,CAClDE,KADkD;AAAA,QAC3CC,IAD2C,GAClCH,eADkC,CAC3CG,IAD2C,EAEhE;AACA;;AACA,QAAKT,IAAL,EAAY,OAAOA,IAAI,KAAKO,mBAAmB,CAACP,IAApC,CAJoD,CAKhE;AACA;;AACA,QAAK,CAAES,IAAP,EAAc,OAAO,KAAP;AACd,QAAMC,MAAM,GAAG,kBAAQC,eAAR,EAAwBC,eAAxB,CACd,UADc,EAEd,kBAFc,YAGVJ,KAHU,eAGEC,IAHF,EAAf;AAKA,WAAO,CAAAC,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEV,IAAR,MAAiBO,mBAAmB,CAACP,IAA5C;AACA,GAdD;AAeA,CAjBD;eAmBeP,U","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { footer, header } from '@wordpress/icons';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { select } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\nconst variations = [\n\t{\n\t\tname: 'header',\n\t\ttitle: __( 'Header' ),\n\t\tdescription: __(\n\t\t\t\"The header template defines a page area that typically contains a title, logo, and main navigation. Since it's a global element it can be present across all pages and posts.\"\n\t\t),\n\t\ticon: header,\n\t\tattributes: { area: 'header' },\n\t\tscope: [ 'inserter' ],\n\t},\n\t{\n\t\tname: 'footer',\n\t\ttitle: __( 'Footer' ),\n\t\tdescription: __(\n\t\t\t\"The footer template defines a page area that typically contains site credits, social links, or any other combination of blocks. Since it's a global element it can be present across all pages and posts.\"\n\t\t),\n\t\ticon: footer,\n\t\tattributes: { area: 'footer' },\n\t\tscope: [ 'inserter' ],\n\t},\n];\n\n/**\n * Add `isActive` function to all `Template Part` variations, if not defined.\n * `isActive` function is used to find a variation match from a created\n *  Block by providing its attributes.\n */\nvariations.forEach( ( variation ) => {\n\tif ( variation.isActive ) return;\n\tvariation.isActive = ( blockAttributes, variationAttributes ) => {\n\t\tconst { area, theme, slug } = blockAttributes;\n\t\t// We first check the `area` block attribute which is set during insertion.\n\t\t// This property is removed on the creation of a template part.\n\t\tif ( area ) return area === variationAttributes.area;\n\t\t// Find a matching variation from the created template part\n\t\t// by checking the entity's `area` property.\n\t\tif ( ! slug ) return false;\n\t\tconst entity = select( coreDataStore ).getEntityRecord(\n\t\t\t'postType',\n\t\t\t'wp_template_part',\n\t\t\t`${ theme }//${ slug }`\n\t\t);\n\t\treturn entity?.area === variationAttributes.area;\n\t};\n} );\n\nexport default variations;\n"]}