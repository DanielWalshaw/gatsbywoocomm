{"version":3,"sources":["@wordpress/block-library/src/post-content/edit.js"],"names":["Content","layout","postType","postId","themeSupportsLayout","select","blockEditorStore","getSettings","supportsLayout","defaultLayout","usedLayout","inherit","contentSize","wideSize","alignments","id","blocks","onInput","onChange","props","className","value","__experimentalLayout","type","undefined","Placeholder","blockProps","PostContentEdit","context","contextPostId","contextPostType","attributes"],"mappings":";;;;;;;;;;;;;AAGA;;AACA;;AACA;;AAMA;;AAXA;AACA;AACA;AAWA,SAASA,OAAT,OAAiD;AAAA,MAA7BC,MAA6B,QAA7BA,MAA6B;AAAA,MAArBC,QAAqB,QAArBA,QAAqB;AAAA,MAAXC,MAAW,QAAXA,MAAW;AAChD,MAAMC,mBAAmB,GAAG,qBAAW,UAAEC,MAAF,EAAc;AAAA;;AAAA,kBAC5BA,MAAM,CAAEC,kBAAF,CADsB;AAAA,QAC5CC,WAD4C,WAC5CA,WAD4C;;AAEpD,2BAAOA,WAAW,EAAlB,iDAAO,aAAeC,cAAtB;AACA,GAH2B,EAGzB,EAHyB,CAA5B;AAIA,MAAMC,aAAa,GAAG,iDAAkB,QAAlB,KAAgC,EAAtD;AACA,MAAMC,UAAU,GAAG,CAAC,CAAET,MAAH,IAAaA,MAAM,CAACU,OAApB,GAA8BF,aAA9B,GAA8CR,MAAjE;AANgD,MAOxCW,WAPwC,GAOdF,UAPc,CAOxCE,WAPwC;AAAA,MAO3BC,QAP2B,GAOdH,UAPc,CAO3BG,QAP2B;AAQhD,MAAMC,UAAU,GACfF,WAAW,IAAIC,QAAf,GACG,CAAE,MAAF,EAAU,MAAV,CADH,GAEG,CAAE,MAAF,EAAU,QAAV,EAAoB,OAApB,CAHJ;;AARgD,8BAYV,oCACrC,UADqC,EAErCX,QAFqC,EAGrC;AAAEa,IAAAA,EAAE,EAAEZ;AAAN,GAHqC,CAZU;AAAA;AAAA,MAYxCa,MAZwC;AAAA,MAYhCC,OAZgC;AAAA,MAYvBC,QAZuB;;AAiBhD,MAAMC,KAAK,GAAG,oDACb,gCAAe;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAAf,CADa,EAEb;AACCC,IAAAA,KAAK,EAAEL,MADR;AAECC,IAAAA,OAAO,EAAPA,OAFD;AAGCC,IAAAA,QAAQ,EAARA,QAHD;AAICI,IAAAA,oBAAoB,EAAE;AACrBC,MAAAA,IAAI,EAAE,SADe;AAErB;AACAT,MAAAA,UAAU,EAAEV,mBAAmB,GAAGU,UAAH,GAAgBU;AAH1B;AAJvB,GAFa,CAAd;AAaA,SAAO,mCAAUL,KAAV,CAAP;AACA;;AAED,SAASM,WAAT,GAAuB;AACtB,MAAMC,UAAU,GAAG,iCAAnB;AACA,SACC,mCAAUA,UAAV,EACC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC,0CAAQ,cAAI,yCAAJ,CAAR,CADD,CADD,CADD;AAOA;;AAEc,SAASC,eAAT,QAGX;AAAA,4BAFHC,OAEG;AAAA,MAFgBC,aAEhB,iBAFQ1B,MAER;AAAA,MAFyC2B,eAEzC,iBAF+B5B,QAE/B;AAAA,MADH6B,UACG,SADHA,UACG;AAAA,2BACqBA,UADrB,CACK9B,MADL;AAAA,MACKA,MADL,mCACc,EADd;AAGH,SAAO4B,aAAa,IAAIC,eAAjB,GACN,4BAAC,OAAD;AACC,IAAA,QAAQ,EAAGA,eADZ;AAEC,IAAA,MAAM,EAAGD,aAFV;AAGC,IAAA,MAAM,EAAG5B;AAHV,IADM,GAON,4BAAC,WAAD,OAPD;AASA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tuseBlockProps,\n\t__experimentalUseInnerBlocksProps as useInnerBlocksProps,\n\t__experimentalUseEditorFeature as useEditorFeature,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useEntityBlockEditor } from '@wordpress/core-data';\n\nfunction Content( { layout, postType, postId } ) {\n\tconst themeSupportsLayout = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\treturn getSettings()?.supportsLayout;\n\t}, [] );\n\tconst defaultLayout = useEditorFeature( 'layout' ) || {};\n\tconst usedLayout = !! layout && layout.inherit ? defaultLayout : layout;\n\tconst { contentSize, wideSize } = usedLayout;\n\tconst alignments =\n\t\tcontentSize || wideSize\n\t\t\t? [ 'wide', 'full' ]\n\t\t\t: [ 'left', 'center', 'right' ];\n\tconst [ blocks, onInput, onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\tpostType,\n\t\t{ id: postId }\n\t);\n\tconst props = useInnerBlocksProps(\n\t\tuseBlockProps( { className: 'entry-content' } ),\n\t\t{\n\t\t\tvalue: blocks,\n\t\t\tonInput,\n\t\t\tonChange,\n\t\t\t__experimentalLayout: {\n\t\t\t\ttype: 'default',\n\t\t\t\t// Find a way to inject this in the support flag code (hooks).\n\t\t\t\talignments: themeSupportsLayout ? alignments : undefined,\n\t\t\t},\n\t\t}\n\t);\n\treturn <div { ...props } />;\n}\n\nfunction Placeholder() {\n\tconst blockProps = useBlockProps();\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t<div className=\"wp-block-post-content__placeholder\">\n\t\t\t\t<span>{ __( 'This is a placeholder for post content.' ) }</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default function PostContentEdit( {\n\tcontext: { postId: contextPostId, postType: contextPostType },\n\tattributes,\n} ) {\n\tconst { layout = {} } = attributes;\n\n\treturn contextPostId && contextPostType ? (\n\t\t<Content\n\t\t\tpostType={ contextPostType }\n\t\t\tpostId={ contextPostId }\n\t\t\tlayout={ layout }\n\t\t/>\n\t) : (\n\t\t<Placeholder />\n\t);\n}\n"]}