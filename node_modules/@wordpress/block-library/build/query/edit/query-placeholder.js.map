{"version":3,"sources":["@wordpress/block-library/src/query/edit/query-placeholder.js"],"names":["QueryPlaceholder","clientId","name","attributes","setAttributes","select","blocksStore","getBlockVariations","getBlockType","getDefaultBlockVariation","blockType","defaultVariation","scopeVariations","allVariations","blockEditorStore","replaceInnerBlocks","blockProps","matchingVariation","icon","src","label","title","nextVariation","innerBlocks"],"mappings":";;;;;;;;;AAGA;;AACA;;AAMA;;AAVA;AACA;AACA;AAaA,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAqD;AAAA;;AAAA,MAAjDC,QAAiD,QAAjDA,QAAiD;AAAA,MAAvCC,IAAuC,QAAvCA,IAAuC;AAAA,MAAjCC,UAAiC,QAAjCA,UAAiC;AAAA,MAArBC,aAAqB,QAArBA,aAAqB;;AAAA,mBAMzE,qBACH,UAAEC,MAAF,EAAc;AAAA,kBAKTA,MAAM,CAAEC,aAAF,CALG;AAAA,QAEZC,kBAFY,WAEZA,kBAFY;AAAA,QAGZC,YAHY,WAGZA,YAHY;AAAA,QAIZC,wBAJY,WAIZA,wBAJY;;AAOb,WAAO;AACNC,MAAAA,SAAS,EAAEF,YAAY,CAAEN,IAAF,CADjB;AAENS,MAAAA,gBAAgB,EAAEF,wBAAwB,CAAEP,IAAF,EAAQ,OAAR,CAFpC;AAGNU,MAAAA,eAAe,EAAEL,kBAAkB,CAAEL,IAAF,EAAQ,OAAR,CAH7B;AAINW,MAAAA,aAAa,EAAEN,kBAAkB,CAAEL,IAAF;AAJ3B,KAAP;AAMA,GAdE,EAeH,CAAEA,IAAF,CAfG,CANyE;AAAA,MAE5EQ,SAF4E,cAE5EA,SAF4E;AAAA,MAG5EC,gBAH4E,cAG5EA,gBAH4E;AAAA,MAI5EC,eAJ4E,cAI5EA,eAJ4E;AAAA,MAK5EC,aAL4E,cAK5EA,aAL4E;;AAAA,qBAuB9C,uBAAaC,kBAAb,CAvB8C;AAAA,MAuBrEC,kBAvBqE,gBAuBrEA,kBAvBqE;;AAwB7E,MAAMC,UAAU,GAAG,iCAAnB;AACA,MAAMC,iBAAiB,GAAG,qDAAsBd,UAAtB,EAAkCU,aAAlC,CAA1B;AACA,MAAMK,IAAI,GAAG,CAAAD,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,YAAAA,iBAAiB,CAAEC,IAAnB,MAA2BR,SAA3B,aAA2BA,SAA3B,0CAA2BA,SAAS,CAAEQ,IAAtC,oDAA2B,gBAAiBC,GAA5C,CAAb;AACA,MAAMC,KAAK,GAAG,CAAAH,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,YAAAA,iBAAiB,CAAEI,KAAnB,MAA4BX,SAA5B,aAA4BA,SAA5B,uBAA4BA,SAAS,CAAEW,KAAvC,CAAd;AACA,SACC,mCAAUL,UAAV,EACC,4BAAC,+CAAD;AACC,IAAA,IAAI,EAAGE,IADR;AAEC,IAAA,KAAK,EAAGE,KAFT;AAGC,IAAA,UAAU,EAAGR,eAHd;AAIC,IAAA,QAAQ,EAAG,oBAAwC;AAAA,UAAtCU,aAAsC,uEAAtBX,gBAAsB;;AAClD,UAAKW,aAAa,CAACnB,UAAnB,EAAgC;AAC/BC,QAAAA,aAAa,CAAEkB,aAAa,CAACnB,UAAhB,CAAb;AACA;;AACD,UAAKmB,aAAa,CAACC,WAAnB,EAAiC;AAChCR,QAAAA,kBAAkB,CACjBd,QADiB,EAEjB,iDACCqB,aAAa,CAACC,WADf,CAFiB,EAKjB,KALiB,CAAlB;AAOA;AACD;AAjBF,IADD,CADD;AAuBA,CAnDD;;eAqDevB,gB","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tuseBlockProps,\n\t__experimentalBlockVariationPicker,\n\t__experimentalGetMatchingVariation as getMatchingVariation,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport {\n\tcreateBlocksFromInnerBlocksTemplate,\n\tstore as blocksStore,\n} from '@wordpress/blocks';\n\nconst QueryPlaceholder = ( { clientId, name, attributes, setAttributes } ) => {\n\tconst {\n\t\tblockType,\n\t\tdefaultVariation,\n\t\tscopeVariations,\n\t\tallVariations,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockVariations,\n\t\t\t\tgetBlockType,\n\t\t\t\tgetDefaultBlockVariation,\n\t\t\t} = select( blocksStore );\n\n\t\t\treturn {\n\t\t\t\tblockType: getBlockType( name ),\n\t\t\t\tdefaultVariation: getDefaultBlockVariation( name, 'block' ),\n\t\t\t\tscopeVariations: getBlockVariations( name, 'block' ),\n\t\t\t\tallVariations: getBlockVariations( name ),\n\t\t\t};\n\t\t},\n\t\t[ name ]\n\t);\n\tconst { replaceInnerBlocks } = useDispatch( blockEditorStore );\n\tconst blockProps = useBlockProps();\n\tconst matchingVariation = getMatchingVariation( attributes, allVariations );\n\tconst icon = matchingVariation?.icon || blockType?.icon?.src;\n\tconst label = matchingVariation?.title || blockType?.title;\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t<__experimentalBlockVariationPicker\n\t\t\t\ticon={ icon }\n\t\t\t\tlabel={ label }\n\t\t\t\tvariations={ scopeVariations }\n\t\t\t\tonSelect={ ( nextVariation = defaultVariation ) => {\n\t\t\t\t\tif ( nextVariation.attributes ) {\n\t\t\t\t\t\tsetAttributes( nextVariation.attributes );\n\t\t\t\t\t}\n\t\t\t\t\tif ( nextVariation.innerBlocks ) {\n\t\t\t\t\t\treplaceInnerBlocks(\n\t\t\t\t\t\t\tclientId,\n\t\t\t\t\t\t\tcreateBlocksFromInnerBlocksTemplate(\n\t\t\t\t\t\t\t\tnextVariation.innerBlocks\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default QueryPlaceholder;\n"]}