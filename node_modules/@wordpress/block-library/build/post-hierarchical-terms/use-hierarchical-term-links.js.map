{"version":3,"sources":["@wordpress/block-library/src/post-hierarchical-terms/use-hierarchical-term-links.js"],"names":["useHierarchicalTermLinks","postId","postType","term","restBase","rest_base","slug","hierarchicalTermItems","select","coreStore","getEntityRecord","loaded","links","itemId","item","link","event","preventDefault","name","hierarchicalTermLinks","isLoadingHierarchicalTermLinks"],"mappings":";;;;;;;;;;;;;AAGA;;AAKA;;AACA;;AATA;AACA;AACA;;AAGA;AACA;AACA;AAIe,SAASA,wBAAT,OAAgE;AAAA,MAA3BC,MAA2B,QAA3BA,MAA2B;AAAA,MAAnBC,QAAmB,QAAnBA,QAAmB;AAAA,MAATC,IAAS,QAATA,IAAS;AAAA,MAC3DC,QAD2D,GACxCD,IADwC,CACtEE,SADsE;AAAA,MACjDC,IADiD,GACxCH,IADwC,CACjDG,IADiD;;AAAA,uBAG5C,6BACjC,UADiC,EAEjCJ,QAFiC,EAGjCE,QAHiC,EAIjCH,MAJiC,CAH4C;AAAA;AAAA,MAGtEM,qBAHsE;;AAAA,mBAUZ,qBACjE,UAAEC,MAAF,EAAc;AAAA,kBACeA,MAAM,CAAEC,eAAF,CADrB;AAAA,QACLC,eADK,WACLA,eADK;;AAGb,QAAIC,MAAM,GAAG,IAAb;AAEA,QAAMC,KAAK,GAAG,iBAAKL,qBAAL,EAA4B,UAAEM,MAAF,EAAc;AACvD,UAAMC,IAAI,GAAGJ,eAAe,CAAE,UAAF,EAAcJ,IAAd,EAAoBO,MAApB,CAA5B;;AAEA,UAAK,CAAEC,IAAP,EAAc;AACb,eAASH,MAAM,GAAG,KAAlB;AACA;;AAED,aACC;AACC,QAAA,GAAG,EAAGE,MADP;AAEC,QAAA,IAAI,EAAGC,IAAI,CAACC,IAFb;AAGC,QAAA,OAAO,EAAG,iBAAEC,KAAF;AAAA,iBAAaA,KAAK,CAACC,cAAN,EAAb;AAAA;AAHX,SAKGH,IAAI,CAACI,IALR,CADD;AASA,KAhBa,CAAd;AAkBA,WAAO;AACNC,MAAAA,qBAAqB,EAAEP,KADjB;AAENQ,MAAAA,8BAA8B,EAAE,CAAET;AAF5B,KAAP;AAIA,GA5BgE,EA6BjE,CAAEJ,qBAAF,CA7BiE,CAVY;AAAA,MAUtEY,qBAVsE,cAUtEA,qBAVsE;AAAA,MAU/CC,8BAV+C,cAU/CA,8BAV+C;;AA0C9E,SAAO;AAAED,IAAAA,qBAAqB,EAArBA,qBAAF;AAAyBC,IAAAA,8BAA8B,EAA9BA;AAAzB,GAAP;AACA","sourcesContent":["/**\n * External dependencies\n */\nimport { map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useEntityProp, store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\n\nexport default function useHierarchicalTermLinks( { postId, postType, term } ) {\n\tconst { rest_base: restBase, slug } = term;\n\n\tconst [ hierarchicalTermItems ] = useEntityProp(\n\t\t'postType',\n\t\tpostType,\n\t\trestBase,\n\t\tpostId\n\t);\n\n\tconst { hierarchicalTermLinks, isLoadingHierarchicalTermLinks } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord } = select( coreStore );\n\n\t\t\tlet loaded = true;\n\n\t\t\tconst links = map( hierarchicalTermItems, ( itemId ) => {\n\t\t\t\tconst item = getEntityRecord( 'taxonomy', slug, itemId );\n\n\t\t\t\tif ( ! item ) {\n\t\t\t\t\treturn ( loaded = false );\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<a\n\t\t\t\t\t\tkey={ itemId }\n\t\t\t\t\t\thref={ item.link }\n\t\t\t\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ item.name }\n\t\t\t\t\t</a>\n\t\t\t\t);\n\t\t\t} );\n\n\t\t\treturn {\n\t\t\t\thierarchicalTermLinks: links,\n\t\t\t\tisLoadingHierarchicalTermLinks: ! loaded,\n\t\t\t};\n\t\t},\n\t\t[ hierarchicalTermItems ]\n\t);\n\n\treturn { hierarchicalTermLinks, isLoadingHierarchicalTermLinks };\n}\n"]}