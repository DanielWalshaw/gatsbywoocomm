{"version":3,"sources":["@wordpress/block-library/src/missing/edit.native.js"],"names":["View","Text","TouchableWithoutFeedback","TouchableHighlight","requestUnsupportedBlockFallback","sendActionButtonPressedAction","actionButtons","BottomSheet","Icon","TextControl","compose","withPreferredColorScheme","coreBlocks","normalizeIconObject","Component","__","sprintf","help","plugins","withSelect","withDispatch","applyFilters","store","blockEditorStore","styles","UBE_INCOMPATIBLE_BLOCKS","UnsupportedBlockEdit","props","state","showHelp","toggleSheet","bind","closeSheet","requestFallback","onHelpButtonPressed","setState","timeout","clearTimeout","infoIconStyle","getStylesFromColorScheme","infoIcon","infoIconDark","helpIconContainer","color","isSelected","selectBlock","canEnableUnsupportedBlockEditor","isUnsupportedBlockEditorSupported","sendButtonPressMessage","sendFallbackMessage","blockTitle","blockName","attributes","clientId","isEditableInUnsupportedBlockEditor","infoTextStyle","infoText","infoTextDark","infoTitleStyle","infoTitle","infoTitleDark","infoDescriptionStyle","infoDescription","infoDescriptionDark","infoSheetIconStyle","infoSheetIcon","infoSheetIconDark","titleFormat","missingBlockDetail","missingBlockActionButton","actionButtonStyle","actionButton","actionButtonDark","setTimeout","content","originalContent","missingBlockAlertActionButton","infoContainer","size","originalName","preferredColorScheme","blockType","title","settings","titleStyle","unsupportedBlockMessage","unsupportedBlockMessageDark","subTitleStyle","unsupportedBlockSubtitle","unsupportedBlockSubtitleDark","subtitle","icon","iconStyle","unsupportedBlockIcon","unsupportedBlockIconDark","iconClassName","unsupportedBlock","unsupportedBlockDark","renderHelpIcon","src","renderSheet","select","getSettings","unsupportedBlockEditor","includes","dispatch","ownProps"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tView,\n\tText,\n\tTouchableWithoutFeedback,\n\tTouchableHighlight,\n} from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport {\n\trequestUnsupportedBlockFallback,\n\tsendActionButtonPressedAction,\n\tactionButtons,\n} from '@wordpress/react-native-bridge';\nimport { BottomSheet, Icon, TextControl } from '@wordpress/components';\nimport { compose, withPreferredColorScheme } from '@wordpress/compose';\nimport { coreBlocks } from '@wordpress/block-library';\nimport { normalizeIconObject } from '@wordpress/blocks';\nimport { Component } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { help, plugins } from '@wordpress/icons';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { applyFilters } from '@wordpress/hooks';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\n// Blocks that can't be edited through the Unsupported block editor identified by their name.\nconst UBE_INCOMPATIBLE_BLOCKS = [ 'core/block' ];\n\nexport class UnsupportedBlockEdit extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = { showHelp: false };\n\t\tthis.toggleSheet = this.toggleSheet.bind( this );\n\t\tthis.closeSheet = this.closeSheet.bind( this );\n\t\tthis.requestFallback = this.requestFallback.bind( this );\n\t\tthis.onHelpButtonPressed = this.onHelpButtonPressed.bind( this );\n\t}\n\n\ttoggleSheet() {\n\t\tthis.setState( {\n\t\t\tshowHelp: ! this.state.showHelp,\n\t\t} );\n\t}\n\n\tcloseSheet() {\n\t\tthis.setState( {\n\t\t\tshowHelp: false,\n\t\t} );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif ( this.timeout ) {\n\t\t\tclearTimeout( this.timeout );\n\t\t}\n\t}\n\n\trenderHelpIcon() {\n\t\tconst infoIconStyle = this.props.getStylesFromColorScheme(\n\t\t\tstyles.infoIcon,\n\t\t\tstyles.infoIconDark\n\t\t);\n\n\t\treturn (\n\t\t\t<TouchableHighlight\n\t\t\t\tonPress={ this.onHelpButtonPressed }\n\t\t\t\tstyle={ styles.helpIconContainer }\n\t\t\t\taccessibilityLabel={ __( 'Help button' ) }\n\t\t\t\taccessibilityRole={ 'button' }\n\t\t\t\taccessibilityHint={ __( 'Tap here to show help' ) }\n\t\t\t>\n\t\t\t\t<Icon\n\t\t\t\t\tclassName=\"unsupported-icon-help\"\n\t\t\t\t\tlabel={ __( 'Help icon' ) }\n\t\t\t\t\ticon={ help }\n\t\t\t\t\tcolor={ infoIconStyle.color }\n\t\t\t\t/>\n\t\t\t</TouchableHighlight>\n\t\t);\n\t}\n\n\tonHelpButtonPressed() {\n\t\tif ( ! this.props.isSelected ) {\n\t\t\tthis.props.selectBlock();\n\t\t}\n\t\tthis.toggleSheet();\n\t}\n\n\trequestFallback() {\n\t\tif (\n\t\t\tthis.props.canEnableUnsupportedBlockEditor &&\n\t\t\tthis.props.isUnsupportedBlockEditorSupported === false\n\t\t) {\n\t\t\tthis.toggleSheet();\n\t\t\tthis.setState( { sendButtonPressMessage: true } );\n\t\t} else {\n\t\t\tthis.toggleSheet();\n\t\t\tthis.setState( { sendFallbackMessage: true } );\n\t\t}\n\t}\n\n\trenderSheet( blockTitle, blockName ) {\n\t\tconst {\n\t\t\tgetStylesFromColorScheme,\n\t\t\tattributes,\n\t\t\tclientId,\n\t\t\tisUnsupportedBlockEditorSupported,\n\t\t\tcanEnableUnsupportedBlockEditor,\n\t\t\tisEditableInUnsupportedBlockEditor,\n\t\t} = this.props;\n\t\tconst infoTextStyle = getStylesFromColorScheme(\n\t\t\tstyles.infoText,\n\t\t\tstyles.infoTextDark\n\t\t);\n\t\tconst infoTitleStyle = getStylesFromColorScheme(\n\t\t\tstyles.infoTitle,\n\t\t\tstyles.infoTitleDark\n\t\t);\n\t\tconst infoDescriptionStyle = getStylesFromColorScheme(\n\t\t\tstyles.infoDescription,\n\t\t\tstyles.infoDescriptionDark\n\t\t);\n\t\tconst infoSheetIconStyle = getStylesFromColorScheme(\n\t\t\tstyles.infoSheetIcon,\n\t\t\tstyles.infoSheetIconDark\n\t\t);\n\n\t\t/* translators: Missing block alert title. %s: The localized block name */\n\t\tconst titleFormat = __( \"'%s' is not fully-supported\" );\n\t\tconst infoTitle = sprintf( titleFormat, blockTitle );\n\t\tconst missingBlockDetail = applyFilters(\n\t\t\t'native.missing_block_detail',\n\t\t\t__( 'We are working hard to add more blocks with each release.' )\n\t\t);\n\t\tconst missingBlockActionButton = applyFilters(\n\t\t\t'native.missing_block_action_button',\n\t\t\t__( 'Edit using web editor' )\n\t\t);\n\n\t\tconst actionButtonStyle = getStylesFromColorScheme(\n\t\t\tstyles.actionButton,\n\t\t\tstyles.actionButtonDark\n\t\t);\n\n\t\treturn (\n\t\t\t<BottomSheet\n\t\t\t\tisVisible={ this.state.showHelp }\n\t\t\t\thideHeader\n\t\t\t\tonClose={ this.closeSheet }\n\t\t\t\tonModalHide={ () => {\n\t\t\t\t\tif ( this.state.sendFallbackMessage ) {\n\t\t\t\t\t\t// On iOS, onModalHide is called when the controller is still part of the hierarchy.\n\t\t\t\t\t\t// A small delay will ensure that the controller has already been removed.\n\t\t\t\t\t\tthis.timeout = setTimeout( () => {\n\t\t\t\t\t\t\t// for the Classic block, the content is kept in the `content` attribute\n\t\t\t\t\t\t\tconst content =\n\t\t\t\t\t\t\t\tblockName === 'core/freeform'\n\t\t\t\t\t\t\t\t\t? attributes.content\n\t\t\t\t\t\t\t\t\t: attributes.originalContent;\n\t\t\t\t\t\t\trequestUnsupportedBlockFallback(\n\t\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\t\tclientId,\n\t\t\t\t\t\t\t\tblockName,\n\t\t\t\t\t\t\t\tblockTitle\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}, 100 );\n\t\t\t\t\t\tthis.setState( { sendFallbackMessage: false } );\n\t\t\t\t\t} else if ( this.state.sendButtonPressMessage ) {\n\t\t\t\t\t\tthis.timeout = setTimeout( () => {\n\t\t\t\t\t\t\tsendActionButtonPressedAction(\n\t\t\t\t\t\t\t\tactionButtons.missingBlockAlertActionButton\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}, 100 );\n\t\t\t\t\t\tthis.setState( { sendButtonPressMessage: false } );\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<View style={ styles.infoContainer }>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon={ help }\n\t\t\t\t\t\tcolor={ infoSheetIconStyle.color }\n\t\t\t\t\t\tsize={ styles.infoSheetIcon.size }\n\t\t\t\t\t/>\n\t\t\t\t\t<Text style={ [ infoTextStyle, infoTitleStyle ] }>\n\t\t\t\t\t\t{ infoTitle }\n\t\t\t\t\t</Text>\n\t\t\t\t\t{ isEditableInUnsupportedBlockEditor && (\n\t\t\t\t\t\t<Text style={ [ infoTextStyle, infoDescriptionStyle ] }>\n\t\t\t\t\t\t\t{ missingBlockDetail }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t) }\n\t\t\t\t</View>\n\t\t\t\t{ ( isUnsupportedBlockEditorSupported ||\n\t\t\t\t\tcanEnableUnsupportedBlockEditor ) &&\n\t\t\t\t\tisEditableInUnsupportedBlockEditor && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ missingBlockActionButton }\n\t\t\t\t\t\t\t\tseparatorType=\"topFullWidth\"\n\t\t\t\t\t\t\t\tonPress={ this.requestFallback }\n\t\t\t\t\t\t\t\tlabelStyle={ actionButtonStyle }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Dismiss' ) }\n\t\t\t\t\t\t\t\tseparatorType=\"topFullWidth\"\n\t\t\t\t\t\t\t\tonPress={ this.toggleSheet }\n\t\t\t\t\t\t\t\tlabelStyle={ actionButtonStyle }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t</BottomSheet>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { originalName } = this.props.attributes;\n\t\tconst { getStylesFromColorScheme, preferredColorScheme } = this.props;\n\t\tconst blockType = coreBlocks[ originalName ];\n\n\t\tconst title = blockType ? blockType.settings.title : originalName;\n\t\tconst titleStyle = getStylesFromColorScheme(\n\t\t\tstyles.unsupportedBlockMessage,\n\t\t\tstyles.unsupportedBlockMessageDark\n\t\t);\n\n\t\tconst subTitleStyle = getStylesFromColorScheme(\n\t\t\tstyles.unsupportedBlockSubtitle,\n\t\t\tstyles.unsupportedBlockSubtitleDark\n\t\t);\n\t\tconst subtitle = (\n\t\t\t<Text style={ subTitleStyle }>{ __( 'Unsupported' ) }</Text>\n\t\t);\n\n\t\tconst icon = blockType\n\t\t\t? normalizeIconObject( blockType.settings.icon )\n\t\t\t: plugins;\n\t\tconst iconStyle = getStylesFromColorScheme(\n\t\t\tstyles.unsupportedBlockIcon,\n\t\t\tstyles.unsupportedBlockIconDark\n\t\t);\n\t\tconst iconClassName = 'unsupported-icon' + '-' + preferredColorScheme;\n\t\treturn (\n\t\t\t<TouchableWithoutFeedback\n\t\t\t\tdisabled={ ! this.props.isSelected }\n\t\t\t\taccessibilityLabel={ __( 'Help button' ) }\n\t\t\t\taccessibilityRole={ 'button' }\n\t\t\t\taccessibilityHint={ __( 'Tap here to show help' ) }\n\t\t\t\tonPress={ this.toggleSheet }\n\t\t\t>\n\t\t\t\t<View\n\t\t\t\t\tstyle={ getStylesFromColorScheme(\n\t\t\t\t\t\tstyles.unsupportedBlock,\n\t\t\t\t\t\tstyles.unsupportedBlockDark\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ this.renderHelpIcon() }\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tclassName={ iconClassName }\n\t\t\t\t\t\ticon={ icon && icon.src ? icon.src : icon }\n\t\t\t\t\t\tcolor={ iconStyle.color }\n\t\t\t\t\t/>\n\t\t\t\t\t<Text style={ titleStyle }>{ title }</Text>\n\t\t\t\t\t{ subtitle }\n\t\t\t\t\t{ this.renderSheet( title, originalName ) }\n\t\t\t\t</View>\n\t\t\t</TouchableWithoutFeedback>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select, { attributes } ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\treturn {\n\t\t\tisUnsupportedBlockEditorSupported:\n\t\t\t\tgetSettings( 'capabilities' ).unsupportedBlockEditor === true,\n\t\t\tcanEnableUnsupportedBlockEditor:\n\t\t\t\tgetSettings( 'capabilities' )\n\t\t\t\t\t.canEnableUnsupportedBlockEditor === true,\n\t\t\tisEditableInUnsupportedBlockEditor: ! UBE_INCOMPATIBLE_BLOCKS.includes(\n\t\t\t\tattributes.originalName\n\t\t\t),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => {\n\t\tconst { selectBlock } = dispatch( blockEditorStore );\n\t\treturn {\n\t\t\tselectBlock() {\n\t\t\t\tselectBlock( ownProps.clientId );\n\t\t\t},\n\t\t};\n\t} ),\n\twithPreferredColorScheme,\n] )( UnsupportedBlockEdit );\n"]}