{"version":3,"sources":["@wordpress/block-library/src/columns/transforms.js"],"names":["createBlock","createBlocksFromInnerBlocksTemplate","MAXIMUM_SELECTED_BLOCKS","transforms","from","type","isMultiBlock","blocks","__experimentalConvert","columnWidth","length","toFixed","innerBlocksTemplate","map","name","attributes","innerBlocks","width","isMatch","selectedBlocksLength","priority","transform","align","backgroundColor","textColor","style","alt","mediaAlt","id","mediaId","mediaPosition","sizeSlug","mediaSizeSlug","mediaType","url","mediaUrl","mediaWidth","verticalAlignment","media","imageAttrs","linkAttrs","href","linkClass","linkDestination","linkTarget","rel","src","reverse"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tcreateBlock,\n\tcreateBlocksFromInnerBlocksTemplate,\n} from '@wordpress/blocks';\n\nconst MAXIMUM_SELECTED_BLOCKS = 6;\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tisMultiBlock: true,\n\t\t\tblocks: [ '*' ],\n\t\t\t__experimentalConvert: ( blocks ) => {\n\t\t\t\tconst columnWidth = +( 100 / blocks.length ).toFixed( 2 );\n\t\t\t\tconst innerBlocksTemplate = blocks.map(\n\t\t\t\t\t( { name, attributes, innerBlocks } ) => [\n\t\t\t\t\t\t'core/column',\n\t\t\t\t\t\t{ width: `${ columnWidth }%` },\n\t\t\t\t\t\t[ [ name, { ...attributes }, innerBlocks ] ],\n\t\t\t\t\t]\n\t\t\t\t);\n\t\t\t\treturn createBlock(\n\t\t\t\t\t'core/columns',\n\t\t\t\t\t{},\n\t\t\t\t\tcreateBlocksFromInnerBlocksTemplate( innerBlocksTemplate )\n\t\t\t\t);\n\t\t\t},\n\t\t\tisMatch: ( { length: selectedBlocksLength } ) =>\n\t\t\t\tselectedBlocksLength &&\n\t\t\t\tselectedBlocksLength <= MAXIMUM_SELECTED_BLOCKS,\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/media-text' ],\n\t\t\tpriority: 1,\n\t\t\ttransform: ( attributes, innerBlocks ) => {\n\t\t\t\tconst {\n\t\t\t\t\talign,\n\t\t\t\t\tbackgroundColor,\n\t\t\t\t\ttextColor,\n\t\t\t\t\tstyle,\n\t\t\t\t\tmediaAlt: alt,\n\t\t\t\t\tmediaId: id,\n\t\t\t\t\tmediaPosition,\n\t\t\t\t\tmediaSizeSlug: sizeSlug,\n\t\t\t\t\tmediaType,\n\t\t\t\t\tmediaUrl: url,\n\t\t\t\t\tmediaWidth,\n\t\t\t\t\tverticalAlignment,\n\t\t\t\t} = attributes;\n\t\t\t\tlet media;\n\t\t\t\tif ( mediaType === 'image' || ! mediaType ) {\n\t\t\t\t\tconst imageAttrs = { id, alt, url, sizeSlug };\n\t\t\t\t\tconst linkAttrs = {\n\t\t\t\t\t\thref: attributes.href,\n\t\t\t\t\t\tlinkClass: attributes.linkClass,\n\t\t\t\t\t\tlinkDestination: attributes.linkDestination,\n\t\t\t\t\t\tlinkTarget: attributes.linkTarget,\n\t\t\t\t\t\trel: attributes.rel,\n\t\t\t\t\t};\n\t\t\t\t\tmedia = [ 'core/image', { ...imageAttrs, ...linkAttrs } ];\n\t\t\t\t} else {\n\t\t\t\t\tmedia = [ 'core/video', { id, src: url } ];\n\t\t\t\t}\n\t\t\t\tconst innerBlocksTemplate = [\n\t\t\t\t\t[ 'core/column', { width: `${ mediaWidth }%` }, [ media ] ],\n\t\t\t\t\t[\n\t\t\t\t\t\t'core/column',\n\t\t\t\t\t\t{ width: `${ 100 - mediaWidth }%` },\n\t\t\t\t\t\tinnerBlocks,\n\t\t\t\t\t],\n\t\t\t\t];\n\t\t\t\tif ( mediaPosition === 'right' ) {\n\t\t\t\t\tinnerBlocksTemplate.reverse();\n\t\t\t\t}\n\t\t\t\treturn createBlock(\n\t\t\t\t\t'core/columns',\n\t\t\t\t\t{\n\t\t\t\t\t\talign,\n\t\t\t\t\t\tbackgroundColor,\n\t\t\t\t\t\ttextColor,\n\t\t\t\t\t\tstyle,\n\t\t\t\t\t\tverticalAlignment,\n\t\t\t\t\t},\n\t\t\t\t\tcreateBlocksFromInnerBlocksTemplate( innerBlocksTemplate )\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n"]}