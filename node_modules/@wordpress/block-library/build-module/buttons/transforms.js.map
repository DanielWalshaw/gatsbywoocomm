{"version":3,"sources":["@wordpress/block-library/src/buttons/transforms.js"],"names":["createBlock","transforms","from","type","isMultiBlock","blocks","transform","buttons","name","map","attributes","div","document","createElement","innerHTML","content","text","innerText","link","querySelector","url","getAttribute","isMatch","paragraphs","every","links","querySelectorAll","length"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,WAAT,QAA4B,mBAA5B;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AAGA,IAAMC,UAAU,GAAG;AAClBC,EAAAA,IAAI,EAAE,CACL;AACCC,IAAAA,IAAI,EAAE,OADP;AAECC,IAAAA,YAAY,EAAE,IAFf;AAGCC,IAAAA,MAAM,EAAE,CAAE,aAAF,CAHT;AAICC,IAAAA,SAAS,EAAE,mBAAEC,OAAF;AAAA,aACV;AACAP,QAAAA,WAAW,CACVQ,IADU,EAEV,EAFU,EAGV;AACAD,QAAAA,OAAO,CAACE,GAAR,CAAa,UAAEC,UAAF;AAAA,iBACZ;AACAV,YAAAA,WAAW,CAAE,aAAF,EAAiBU,UAAjB;AAFC;AAAA,SAAb,CAJU;AAFD;AAAA;AAJZ,GADK,EAiBL;AACCP,IAAAA,IAAI,EAAE,OADP;AAECC,IAAAA,YAAY,EAAE,IAFf;AAGCC,IAAAA,MAAM,EAAE,CAAE,gBAAF,CAHT;AAICC,IAAAA,SAAS,EAAE,mBAAEC,OAAF;AAAA,aACV;AACAP,QAAAA,WAAW,CACVQ,IADU,EAEV,EAFU,EAGV;AACAD,QAAAA,OAAO,CAACE,GAAR,CAAa,UAAEC,UAAF,EAAkB;AAC9B;AACA,cAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAwB,KAAxB,CAAZ;AACAF,UAAAA,GAAG,CAACG,SAAJ,GAAgBJ,UAAU,CAACK,OAA3B;AACA,cAAMC,IAAI,GAAGL,GAAG,CAACM,SAAJ,IAAiB,EAA9B,CAJ8B,CAK9B;;AACA,cAAMC,IAAI,GAAGP,GAAG,CAACQ,aAAJ,CAAmB,GAAnB,CAAb;AACA,cAAMC,GAAG,GAAGF,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEG,YAAN,CAAoB,MAApB,CAAZ,CAP8B,CAQ9B;;AACA,iBAAOrB,WAAW,CAAE,aAAF,EAAiB;AAClCgB,YAAAA,IAAI,EAAJA,IADkC;AAElCI,YAAAA,GAAG,EAAHA;AAFkC,WAAjB,CAAlB;AAIA,SAbD,CAJU;AAFD;AAAA,KAJZ;AAyBCE,IAAAA,OAAO,EAAE,iBAAEC,UAAF,EAAkB;AAC1B,aAAOA,UAAU,CAACC,KAAX,CAAkB,UAAEd,UAAF,EAAkB;AAC1C,YAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAwB,KAAxB,CAAZ;AACAF,QAAAA,GAAG,CAACG,SAAJ,GAAgBJ,UAAU,CAACK,OAA3B;AACA,YAAMC,IAAI,GAAGL,GAAG,CAACM,SAAJ,IAAiB,EAA9B;AACA,YAAMQ,KAAK,GAAGd,GAAG,CAACe,gBAAJ,CAAsB,GAAtB,CAAd;AACA,eAAOV,IAAI,CAACW,MAAL,IAAe,EAAf,IAAqBF,KAAK,CAACE,MAAN,IAAgB,CAA5C;AACA,OANM,CAAP;AAOA;AAjCF,GAjBK;AADY,CAAnB;AAwDA,eAAe1B,UAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { name } from './block.json';\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tisMultiBlock: true,\n\t\t\tblocks: [ 'core/button' ],\n\t\t\ttransform: ( buttons ) =>\n\t\t\t\t// Creates the buttons block\n\t\t\t\tcreateBlock(\n\t\t\t\t\tname,\n\t\t\t\t\t{},\n\t\t\t\t\t// Loop the selected buttons\n\t\t\t\t\tbuttons.map( ( attributes ) =>\n\t\t\t\t\t\t// Create singular button in the buttons block\n\t\t\t\t\t\tcreateBlock( 'core/button', attributes )\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tisMultiBlock: true,\n\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\ttransform: ( buttons ) =>\n\t\t\t\t// Creates the buttons block\n\t\t\t\tcreateBlock(\n\t\t\t\t\tname,\n\t\t\t\t\t{},\n\t\t\t\t\t// Loop the selected buttons\n\t\t\t\t\tbuttons.map( ( attributes ) => {\n\t\t\t\t\t\t// Remove any HTML tags\n\t\t\t\t\t\tconst div = document.createElement( 'div' );\n\t\t\t\t\t\tdiv.innerHTML = attributes.content;\n\t\t\t\t\t\tconst text = div.innerText || '';\n\t\t\t\t\t\t// Get first url\n\t\t\t\t\t\tconst link = div.querySelector( 'a' );\n\t\t\t\t\t\tconst url = link?.getAttribute( 'href' );\n\t\t\t\t\t\t// Create singular button in the buttons block\n\t\t\t\t\t\treturn createBlock( 'core/button', {\n\t\t\t\t\t\t\ttext,\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )\n\t\t\t\t),\n\t\t\tisMatch: ( paragraphs ) => {\n\t\t\t\treturn paragraphs.every( ( attributes ) => {\n\t\t\t\t\tconst div = document.createElement( 'div' );\n\t\t\t\t\tdiv.innerHTML = attributes.content;\n\t\t\t\t\tconst text = div.innerText || '';\n\t\t\t\t\tconst links = div.querySelectorAll( 'a' );\n\t\t\t\t\treturn text.length <= 30 && links.length <= 1;\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n"]}