{"version":3,"sources":["@wordpress/block-library/src/group/edit.js"],"names":["useSelect","InnerBlocks","useBlockProps","InspectorAdvancedControls","__experimentalUseInnerBlocksProps","useInnerBlocksProps","__experimentalUseEditorFeature","useEditorFeature","store","blockEditorStore","SelectControl","__","GroupEdit","attributes","setAttributes","clientId","select","getBlock","getSettings","block","hasInnerBlocks","innerBlocks","length","themeSupportsLayout","supportsLayout","defaultLayout","tagName","TagName","templateLock","layout","usedLayout","inherit","contentSize","wideSize","alignments","blockProps","innerBlocksProps","className","renderAppender","undefined","ButtonBlockAppender","__experimentalLayout","type","label","value"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport {\n\tInnerBlocks,\n\tuseBlockProps,\n\tInspectorAdvancedControls,\n\t__experimentalUseInnerBlocksProps as useInnerBlocksProps,\n\t__experimentalUseEditorFeature as useEditorFeature,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { SelectControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nfunction GroupEdit( { attributes, setAttributes, clientId } ) {\n\tconst { hasInnerBlocks, themeSupportsLayout } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlock, getSettings } = select( blockEditorStore );\n\t\t\tconst block = getBlock( clientId );\n\t\t\treturn {\n\t\t\t\thasInnerBlocks: !! ( block && block.innerBlocks.length ),\n\t\t\t\tthemeSupportsLayout: getSettings()?.supportsLayout,\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\tconst defaultLayout = useEditorFeature( 'layout' ) || {};\n\tconst { tagName: TagName = 'div', templateLock, layout = {} } = attributes;\n\tconst usedLayout = !! layout && layout.inherit ? defaultLayout : layout;\n\tconst { contentSize, wideSize } = usedLayout;\n\tconst alignments =\n\t\tcontentSize || wideSize\n\t\t\t? [ 'wide', 'full' ]\n\t\t\t: [ 'left', 'center', 'right' ];\n\tconst blockProps = useBlockProps();\n\tconst innerBlocksProps = useInnerBlocksProps(\n\t\tthemeSupportsLayout\n\t\t\t? blockProps\n\t\t\t: { className: 'wp-block-group__inner-container' },\n\t\t{\n\t\t\ttemplateLock,\n\t\t\trenderAppender: hasInnerBlocks\n\t\t\t\t? undefined\n\t\t\t\t: InnerBlocks.ButtonBlockAppender,\n\t\t\t__experimentalLayout: {\n\t\t\t\ttype: 'default',\n\t\t\t\t// Find a way to inject this in the support flag code (hooks).\n\t\t\t\talignments: themeSupportsLayout ? alignments : undefined,\n\t\t\t},\n\t\t}\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorAdvancedControls>\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel={ __( 'HTML element' ) }\n\t\t\t\t\toptions={ [\n\t\t\t\t\t\t{ label: __( 'Default (<div>)' ), value: 'div' },\n\t\t\t\t\t\t{ label: '<header>', value: 'header' },\n\t\t\t\t\t\t{ label: '<main>', value: 'main' },\n\t\t\t\t\t\t{ label: '<section>', value: 'section' },\n\t\t\t\t\t\t{ label: '<article>', value: 'article' },\n\t\t\t\t\t\t{ label: '<aside>', value: 'aside' },\n\t\t\t\t\t\t{ label: '<footer>', value: 'footer' },\n\t\t\t\t\t] }\n\t\t\t\t\tvalue={ TagName }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { tagName: value } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</InspectorAdvancedControls>\n\t\t\t{ themeSupportsLayout && <TagName { ...innerBlocksProps } /> }\n\t\t\t{ /* Ideally this is not needed but it's there for backward compatibility reason\n\t\t\t\tto keep this div for themes that might rely on its presence */ }\n\t\t\t{ ! themeSupportsLayout && (\n\t\t\t\t<TagName { ...blockProps }>\n\t\t\t\t\t<div { ...innerBlocksProps } />\n\t\t\t\t</TagName>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default GroupEdit;\n"]}