{"version":3,"sources":["@wordpress/block-library/src/cover/controls.native.js"],"names":["View","Video","Image","Icon","IMAGE_DEFAULT_FOCAL_POINT","PanelBody","RangeControl","UnitControl","TextControl","BottomSheet","ToggleControl","plus","useState","useCallback","useRef","usePreferredColorSchemeStyle","MediaUpload","__","styles","OverlayColorSettings","FocalPointSettingsButton","ALLOWED_MEDIA_TYPES","COVER_MIN_HEIGHT","COVER_MAX_HEIGHT","COVER_DEFAULT_HEIGHT","CSS_UNITS","IMAGE_BACKGROUND_TYPE","VIDEO_BACKGROUND_TYPE","Controls","attributes","didUploadFail","hasOnlyColorBackground","isUploadInProgress","onClearMedia","onSelectMedia","setAttributes","backgroundType","dimRatio","hasParallax","focalPoint","minHeight","minHeightUnit","url","CONTAINER_HEIGHT","onHeightChange","value","onOpacityChange","onChangeUnit","nextUnit","Math","max","displayPlaceholder","setDisplayPlaceholder","setFocalPoint","toggleParallax","undefined","addMediaButtonStyle","addMediaButton","addMediaButtonDark","focalPointPosition","x","y","left","top","videoNaturalSize","setVideoNaturalSize","videoRef","mediaBackground","mediaBackgroundDark","imagePreviewStyles","imagePlaceholder","videoPreviewStyles","aspectRatio","width","height","opacity","video","focalPointHint","renderMediaSection","openMediaOptions","open","getMediaOptions","mediaPreview","mediaInner","destructiveButton","id","label","onPress","separated","image","event","naturalSize","current","seek","uri","clearMediaButton","overlayColor","customOverlayColor","gradient","customGradient","rangeCellContainer"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { View } from 'react-native';\nimport Video from 'react-native-video';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tImage,\n\tIcon,\n\tIMAGE_DEFAULT_FOCAL_POINT,\n\tPanelBody,\n\tRangeControl,\n\tUnitControl,\n\tTextControl,\n\tBottomSheet,\n\tToggleControl,\n} from '@wordpress/components';\nimport { plus } from '@wordpress/icons';\nimport { useState, useCallback, useRef } from '@wordpress/element';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\nimport { MediaUpload } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\nimport OverlayColorSettings from './overlay-color-settings';\nimport FocalPointSettingsButton from './focal-point-settings-button';\nimport {\n\tALLOWED_MEDIA_TYPES,\n\tCOVER_MIN_HEIGHT,\n\tCOVER_MAX_HEIGHT,\n\tCOVER_DEFAULT_HEIGHT,\n\tCSS_UNITS,\n\tIMAGE_BACKGROUND_TYPE,\n\tVIDEO_BACKGROUND_TYPE,\n} from './shared';\n\nfunction Controls( {\n\tattributes,\n\tdidUploadFail,\n\thasOnlyColorBackground,\n\tisUploadInProgress,\n\tonClearMedia,\n\tonSelectMedia,\n\tsetAttributes,\n} ) {\n\tconst {\n\t\tbackgroundType,\n\t\tdimRatio,\n\t\thasParallax,\n\t\tfocalPoint,\n\t\tminHeight,\n\t\tminHeightUnit = 'px',\n\t\turl,\n\t} = attributes;\n\tconst CONTAINER_HEIGHT = minHeight || COVER_DEFAULT_HEIGHT;\n\tconst onHeightChange = useCallback(\n\t\t( value ) => {\n\t\t\tif ( minHeight || value !== COVER_DEFAULT_HEIGHT ) {\n\t\t\t\tsetAttributes( { minHeight: value } );\n\t\t\t}\n\t\t},\n\t\t[ minHeight ]\n\t);\n\n\tconst onOpacityChange = useCallback( ( value ) => {\n\t\tsetAttributes( { dimRatio: value } );\n\t}, [] );\n\n\tconst onChangeUnit = useCallback( ( nextUnit ) => {\n\t\tsetAttributes( {\n\t\t\tminHeightUnit: nextUnit,\n\t\t\tminHeight:\n\t\t\t\tnextUnit === 'px'\n\t\t\t\t\t? Math.max( CONTAINER_HEIGHT, COVER_MIN_HEIGHT )\n\t\t\t\t\t: CONTAINER_HEIGHT,\n\t\t} );\n\t}, [] );\n\n\tconst [ displayPlaceholder, setDisplayPlaceholder ] = useState( true );\n\n\tfunction setFocalPoint( value ) {\n\t\tsetAttributes( { focalPoint: value } );\n\t}\n\n\tconst toggleParallax = () => {\n\t\tsetAttributes( {\n\t\t\thasParallax: ! hasParallax,\n\t\t\t...( ! hasParallax\n\t\t\t\t? { focalPoint: undefined }\n\t\t\t\t: { focalPoint: IMAGE_DEFAULT_FOCAL_POINT } ),\n\t\t} );\n\t};\n\n\tconst addMediaButtonStyle = usePreferredColorSchemeStyle(\n\t\tstyles.addMediaButton,\n\t\tstyles.addMediaButtonDark\n\t);\n\n\tfunction focalPointPosition( { x, y } = IMAGE_DEFAULT_FOCAL_POINT ) {\n\t\treturn {\n\t\t\tleft: `${ ( hasParallax ? 0.5 : x ) * 100 }%`,\n\t\t\ttop: `${ ( hasParallax ? 0.5 : y ) * 100 }%`,\n\t\t};\n\t}\n\n\tconst [ videoNaturalSize, setVideoNaturalSize ] = useState( null );\n\tconst videoRef = useRef( null );\n\n\tconst mediaBackground = usePreferredColorSchemeStyle(\n\t\tstyles.mediaBackground,\n\t\tstyles.mediaBackgroundDark\n\t);\n\tconst imagePreviewStyles = [\n\t\tdisplayPlaceholder && styles.imagePlaceholder,\n\t];\n\tconst videoPreviewStyles = [\n\t\t{\n\t\t\taspectRatio:\n\t\t\t\tvideoNaturalSize &&\n\t\t\t\tvideoNaturalSize.width / videoNaturalSize.height,\n\t\t\t// Hide Video component since it has black background while loading the source\n\t\t\topacity: displayPlaceholder ? 0 : 1,\n\t\t},\n\t\tstyles.video,\n\t\tdisplayPlaceholder && styles.imagePlaceholder,\n\t];\n\n\tconst focalPointHint = ! hasParallax && ! displayPlaceholder && (\n\t\t<Icon\n\t\t\ticon={ plus }\n\t\t\tsize={ styles.focalPointHint?.width }\n\t\t\tstyle={ [\n\t\t\t\tstyles.focalPointHint,\n\t\t\t\tfocalPointPosition( focalPoint ),\n\t\t\t] }\n\t\t/>\n\t);\n\n\tconst renderMediaSection = ( {\n\t\topen: openMediaOptions,\n\t\tgetMediaOptions,\n\t} ) => (\n\t\t<>\n\t\t\t{ getMediaOptions() }\n\t\t\t{ url ? (\n\t\t\t\t<>\n\t\t\t\t\t<BottomSheet.Cell\n\t\t\t\t\t\taccessible={ false }\n\t\t\t\t\t\tcellContainerStyle={ [\n\t\t\t\t\t\t\tstyles.mediaPreview,\n\t\t\t\t\t\t\tmediaBackground,\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tonLongPress={ openMediaOptions }\n\t\t\t\t\t>\n\t\t\t\t\t\t<View style={ styles.mediaInner }>\n\t\t\t\t\t\t\t{ IMAGE_BACKGROUND_TYPE === backgroundType && (\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\teditButton={ ! displayPlaceholder }\n\t\t\t\t\t\t\t\t\thighlightSelected={ false }\n\t\t\t\t\t\t\t\t\tisSelected={ ! displayPlaceholder }\n\t\t\t\t\t\t\t\t\tisUploadFailed={ didUploadFail }\n\t\t\t\t\t\t\t\t\tisUploadInProgress={ isUploadInProgress }\n\t\t\t\t\t\t\t\t\tmediaPickerOptions={ [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tdestructiveButton: true,\n\t\t\t\t\t\t\t\t\t\t\tid: 'clearMedia',\n\t\t\t\t\t\t\t\t\t\t\tlabel: __( 'Clear Media' ),\n\t\t\t\t\t\t\t\t\t\t\tonPress: onClearMedia,\n\t\t\t\t\t\t\t\t\t\t\tseparated: true,\n\t\t\t\t\t\t\t\t\t\t\tvalue: 'clearMedia',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\t\tonImageDataLoad={ () => {\n\t\t\t\t\t\t\t\t\t\tsetDisplayPlaceholder( false );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tonSelectMediaUploadOption={ onSelectMedia }\n\t\t\t\t\t\t\t\t\topenMediaOptions={ openMediaOptions }\n\t\t\t\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\t\t\t\tstyle={ imagePreviewStyles }\n\t\t\t\t\t\t\t\t\twidth={ styles.image?.width }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ VIDEO_BACKGROUND_TYPE === backgroundType && (\n\t\t\t\t\t\t\t\t<Video\n\t\t\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\t\t\tpaused\n\t\t\t\t\t\t\t\t\tdisableFocus\n\t\t\t\t\t\t\t\t\tonLoadStart={ () => {\n\t\t\t\t\t\t\t\t\t\tsetDisplayPlaceholder( true );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tonLoad={ ( event ) => {\n\t\t\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\t\t\theight,\n\t\t\t\t\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\t\t\t\t} = event.naturalSize;\n\t\t\t\t\t\t\t\t\t\tsetVideoNaturalSize( {\n\t\t\t\t\t\t\t\t\t\t\theight,\n\t\t\t\t\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\tsetDisplayPlaceholder( false );\n\t\t\t\t\t\t\t\t\t\t// Avoid invisible, paused video on Android, presumably\n\t\t\t\t\t\t\t\t\t\t// related to https://git.io/Jt6Dr\n\t\t\t\t\t\t\t\t\t\tvideoRef?.current.seek( 0 );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tref={ videoRef }\n\t\t\t\t\t\t\t\t\tresizeMode={ 'cover' }\n\t\t\t\t\t\t\t\t\tsource={ { uri: url } }\n\t\t\t\t\t\t\t\t\tstyle={ videoPreviewStyles }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ displayPlaceholder ? null : focalPointHint }\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</BottomSheet.Cell>\n\t\t\t\t\t<FocalPointSettingsButton\n\t\t\t\t\t\tdisabled={ hasParallax }\n\t\t\t\t\t\tfocalPoint={ focalPoint || IMAGE_DEFAULT_FOCAL_POINT }\n\t\t\t\t\t\tonFocalPointChange={ setFocalPoint }\n\t\t\t\t\t\turl={ url }\n\t\t\t\t\t/>\n\t\t\t\t\t{ IMAGE_BACKGROUND_TYPE === backgroundType && (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Fixed background' ) }\n\t\t\t\t\t\t\tchecked={ hasParallax }\n\t\t\t\t\t\t\tonChange={ toggleParallax }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tleftAlign\n\t\t\t\t\t\tlabel={ __( 'Clear Media' ) }\n\t\t\t\t\t\tlabelStyle={ styles.clearMediaButton }\n\t\t\t\t\t\tonPress={ onClearMedia }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<TextControl\n\t\t\t\t\taccessibilityLabel={ __( 'Add image or video' ) }\n\t\t\t\t\tlabel={ __( 'Add image or video' ) }\n\t\t\t\t\tlabelStyle={ addMediaButtonStyle }\n\t\t\t\t\tleftAlign\n\t\t\t\t\tonPress={ openMediaOptions }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<PanelBody title={ __( 'Media' ) }>\n\t\t\t\t<MediaUpload\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\tisReplacingMedia={ ! hasOnlyColorBackground }\n\t\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\t\trender={ renderMediaSection }\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\n\t\t\t<OverlayColorSettings\n\t\t\t\toverlayColor={ attributes.overlayColor }\n\t\t\t\tcustomOverlayColor={ attributes.customOverlayColor }\n\t\t\t\tgradient={ attributes.gradient }\n\t\t\t\tcustomGradient={ attributes.customGradient }\n\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t/>\n\n\t\t\t{ url ? (\n\t\t\t\t<PanelBody>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel={ __( 'Opacity' ) }\n\t\t\t\t\t\tminimumValue={ 0 }\n\t\t\t\t\t\tmaximumValue={ 100 }\n\t\t\t\t\t\tvalue={ dimRatio }\n\t\t\t\t\t\tonChange={ onOpacityChange }\n\t\t\t\t\t\tstyle={ styles.rangeCellContainer }\n\t\t\t\t\t\tseparatorType={ 'topFullWidth' }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t) : null }\n\n\t\t\t<PanelBody title={ __( 'Dimensions' ) }>\n\t\t\t\t<UnitControl\n\t\t\t\t\tlabel={ __( 'Minimum height' ) }\n\t\t\t\t\tmin={ minHeightUnit === 'px' ? COVER_MIN_HEIGHT : 1 }\n\t\t\t\t\tmax={ COVER_MAX_HEIGHT }\n\t\t\t\t\tunit={ minHeightUnit }\n\t\t\t\t\tvalue={ CONTAINER_HEIGHT }\n\t\t\t\t\tonChange={ onHeightChange }\n\t\t\t\t\tonUnitChange={ onChangeUnit }\n\t\t\t\t\tunits={ CSS_UNITS }\n\t\t\t\t\tstyle={ styles.rangeCellContainer }\n\t\t\t\t\tkey={ minHeightUnit }\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\t\t</>\n\t);\n}\n\nexport default Controls;\n"]}