{"version":3,"sources":["@wordpress/block-library/src/search/edit.js"],"names":["classnames","useBlockProps","BlockControls","InspectorControls","RichText","__experimentalUnitControl","UnitControl","DropdownMenu","MenuGroup","MenuItem","ToolbarGroup","Button","ButtonGroup","ToolbarButton","ResizableBox","PanelBody","BaseControl","useInstanceId","search","__","buttonOnly","buttonOutside","buttonInside","noButton","buttonWithIcon","toggleLabel","CSS_UNITS","PC_WIDTH_DEFAULT","PX_WIDTH_DEFAULT","MIN_WIDTH","MIN_WIDTH_UNIT","DEFAULT_INNER_PADDING","SearchEdit","className","attributes","setAttributes","toggleSelection","isSelected","label","showLabel","placeholder","width","widthUnit","align","buttonText","buttonPosition","buttonUseIcon","style","borderRadius","border","radius","unitControlInstanceId","unitControlInputId","getBlockClassNames","undefined","getButtonPositionIcon","getResizableSides","right","left","renderTextField","event","target","value","renderButton","html","controls","onClose","newWidth","filteredWidth","parseInt","newUnit","maxWidth","map","widthValue","getWrapperStyles","outerRadius","blockProps","direction","elt","offsetWidth","delta"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseBlockProps,\n\tBlockControls,\n\tInspectorControls,\n\tRichText,\n\t__experimentalUnitControl as UnitControl,\n} from '@wordpress/block-editor';\nimport {\n\tDropdownMenu,\n\tMenuGroup,\n\tMenuItem,\n\tToolbarGroup,\n\tButton,\n\tButtonGroup,\n\tToolbarButton,\n\tResizableBox,\n\tPanelBody,\n\tBaseControl,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { search } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport {\n\tbuttonOnly,\n\tbuttonOutside,\n\tbuttonInside,\n\tnoButton,\n\tbuttonWithIcon,\n\ttoggleLabel,\n} from './icons';\nimport {\n\tCSS_UNITS,\n\tPC_WIDTH_DEFAULT,\n\tPX_WIDTH_DEFAULT,\n\tMIN_WIDTH,\n\tMIN_WIDTH_UNIT,\n} from './utils.js';\n\n// Used to calculate border radius adjustment to avoid \"fat\" corners when\n// button is placed inside wrapper.\nconst DEFAULT_INNER_PADDING = 4;\n\nexport default function SearchEdit( {\n\tclassName,\n\tattributes,\n\tsetAttributes,\n\ttoggleSelection,\n\tisSelected,\n} ) {\n\tconst {\n\t\tlabel,\n\t\tshowLabel,\n\t\tplaceholder,\n\t\twidth,\n\t\twidthUnit,\n\t\talign,\n\t\tbuttonText,\n\t\tbuttonPosition,\n\t\tbuttonUseIcon,\n\t\tstyle,\n\t} = attributes;\n\n\tconst borderRadius = style?.border?.radius;\n\tconst unitControlInstanceId = useInstanceId( UnitControl );\n\tconst unitControlInputId = `wp-block-search__width-${ unitControlInstanceId }`;\n\n\tconst getBlockClassNames = () => {\n\t\treturn classnames(\n\t\t\tclassName,\n\t\t\t'button-inside' === buttonPosition\n\t\t\t\t? 'wp-block-search__button-inside'\n\t\t\t\t: undefined,\n\t\t\t'button-outside' === buttonPosition\n\t\t\t\t? 'wp-block-search__button-outside'\n\t\t\t\t: undefined,\n\t\t\t'no-button' === buttonPosition\n\t\t\t\t? 'wp-block-search__no-button'\n\t\t\t\t: undefined,\n\t\t\t'button-only' === buttonPosition\n\t\t\t\t? 'wp-block-search__button-only'\n\t\t\t\t: undefined,\n\t\t\t! buttonUseIcon && 'no-button' !== buttonPosition\n\t\t\t\t? 'wp-block-search__text-button'\n\t\t\t\t: undefined,\n\t\t\tbuttonUseIcon && 'no-button' !== buttonPosition\n\t\t\t\t? 'wp-block-search__icon-button'\n\t\t\t\t: undefined\n\t\t);\n\t};\n\n\tconst getButtonPositionIcon = () => {\n\t\tswitch ( buttonPosition ) {\n\t\t\tcase 'button-inside':\n\t\t\t\treturn buttonInside;\n\t\t\tcase 'button-outside':\n\t\t\t\treturn buttonOutside;\n\t\t\tcase 'no-button':\n\t\t\t\treturn noButton;\n\t\t\tcase 'button-only':\n\t\t\t\treturn buttonOnly;\n\t\t}\n\t};\n\n\tconst getResizableSides = () => {\n\t\tif ( 'button-only' === buttonPosition ) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn {\n\t\t\tright: align === 'right' ? false : true,\n\t\t\tleft: align === 'right' ? true : false,\n\t\t};\n\t};\n\n\tconst renderTextField = () => {\n\t\treturn (\n\t\t\t<input\n\t\t\t\tclassName=\"wp-block-search__input\"\n\t\t\t\tstyle={ { borderRadius } }\n\t\t\t\taria-label={ __( 'Optional placeholder text' ) }\n\t\t\t\t// We hide the placeholder field's placeholder when there is a value. This\n\t\t\t\t// stops screen readers from reading the placeholder field's placeholder\n\t\t\t\t// which is confusing.\n\t\t\t\tplaceholder={\n\t\t\t\t\tplaceholder ? undefined : __( 'Optional placeholder…' )\n\t\t\t\t}\n\t\t\t\tvalue={ placeholder }\n\t\t\t\tonChange={ ( event ) =>\n\t\t\t\t\tsetAttributes( { placeholder: event.target.value } )\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t};\n\n\tconst renderButton = () => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ buttonUseIcon && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={ search }\n\t\t\t\t\t\tclassName=\"wp-block-search__button\"\n\t\t\t\t\t\tstyle={ { borderRadius } }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\n\t\t\t\t{ ! buttonUseIcon && (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tclassName=\"wp-block-search__button\"\n\t\t\t\t\t\tstyle={ { borderRadius } }\n\t\t\t\t\t\taria-label={ __( 'Button text' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Add button text…' ) }\n\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\tvalue={ buttonText }\n\t\t\t\t\t\tonChange={ ( html ) =>\n\t\t\t\t\t\t\tsetAttributes( { buttonText: html } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst controls = (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ttitle={ __( 'Toggle search label' ) }\n\t\t\t\t\t\ticon={ toggleLabel }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tshowLabel: ! showLabel,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tclassName={ showLabel ? 'is-pressed' : undefined }\n\t\t\t\t\t/>\n\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\ticon={ getButtonPositionIcon() }\n\t\t\t\t\t\tlabel={ __( 'Change button position' ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t\t\t<MenuGroup className=\"wp-block-search__button-position-menu\">\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ noButton }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\tbuttonPosition: 'no-button',\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'No Button' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ buttonOutside }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\tbuttonPosition: 'button-outside',\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Button Outside' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ buttonInside }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\tbuttonPosition: 'button-inside',\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Button Inside' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</DropdownMenu>\n\n\t\t\t\t\t{ 'no-button' !== buttonPosition && (\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\ttitle={ __( 'Use button with icon' ) }\n\t\t\t\t\t\t\ticon={ buttonWithIcon }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tbuttonUseIcon: ! buttonUseIcon,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\tbuttonUseIcon ? 'is-pressed' : undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Display Settings' ) }>\n\t\t\t\t\t<BaseControl\n\t\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\t\tid={ unitControlInputId }\n\t\t\t\t\t>\n\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\tid={ unitControlInputId }\n\t\t\t\t\t\t\tmin={ `${ MIN_WIDTH }${ MIN_WIDTH_UNIT }` }\n\t\t\t\t\t\t\tonChange={ ( newWidth ) => {\n\t\t\t\t\t\t\t\tconst filteredWidth =\n\t\t\t\t\t\t\t\t\twidthUnit === '%' &&\n\t\t\t\t\t\t\t\t\tparseInt( newWidth, 10 ) > 100\n\t\t\t\t\t\t\t\t\t\t? 100\n\t\t\t\t\t\t\t\t\t\t: newWidth;\n\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\twidth: parseInt( filteredWidth, 10 ),\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tonUnitChange={ ( newUnit ) => {\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t\t\t\t'%' === newUnit\n\t\t\t\t\t\t\t\t\t\t\t? PC_WIDTH_DEFAULT\n\t\t\t\t\t\t\t\t\t\t\t: PX_WIDTH_DEFAULT,\n\t\t\t\t\t\t\t\t\twidthUnit: newUnit,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tstyle={ { maxWidth: 80 } }\n\t\t\t\t\t\t\tvalue={ `${ width }${ widthUnit }` }\n\t\t\t\t\t\t\tunit={ widthUnit }\n\t\t\t\t\t\t\tunits={ CSS_UNITS }\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\t\tclassName=\"wp-block-search__components-button-group\"\n\t\t\t\t\t\t\taria-label={ __( 'Percentage Width' ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ [ 25, 50, 75, 100 ].map( ( widthValue ) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tkey={ widthValue }\n\t\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\t\tisPrimary={\n\t\t\t\t\t\t\t\t\t\t\t`${ widthValue }%` ===\n\t\t\t\t\t\t\t\t\t\t\t`${ width }${ widthUnit }`\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\t\twidth: widthValue,\n\t\t\t\t\t\t\t\t\t\t\t\twidthUnit: '%',\n\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ widthValue }%\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</BaseControl>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t</>\n\t);\n\n\tconst getWrapperStyles = () => {\n\t\tif ( 'button-inside' === buttonPosition && style?.border?.radius ) {\n\t\t\t// We have button inside wrapper and a border radius value to apply.\n\t\t\t// Add default padding so we don't get \"fat\" corners.\n\t\t\tconst outerRadius =\n\t\t\t\tparseInt( style?.border?.radius, 10 ) + DEFAULT_INNER_PADDING;\n\n\t\t\treturn { borderRadius: `${ outerRadius }px` };\n\t\t}\n\n\t\treturn undefined;\n\t};\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: getBlockClassNames(),\n\t} );\n\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t{ controls }\n\n\t\t\t{ showLabel && (\n\t\t\t\t<RichText\n\t\t\t\t\tclassName=\"wp-block-search__label\"\n\t\t\t\t\taria-label={ __( 'Label text' ) }\n\t\t\t\t\tplaceholder={ __( 'Add label…' ) }\n\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\tvalue={ label }\n\t\t\t\t\tonChange={ ( html ) => setAttributes( { label: html } ) }\n\t\t\t\t/>\n\t\t\t) }\n\n\t\t\t<ResizableBox\n\t\t\t\tsize={ {\n\t\t\t\t\twidth: `${ width }${ widthUnit }`,\n\t\t\t\t} }\n\t\t\t\tclassName=\"wp-block-search__inside-wrapper\"\n\t\t\t\tstyle={ getWrapperStyles() }\n\t\t\t\tminWidth={ MIN_WIDTH }\n\t\t\t\tenable={ getResizableSides() }\n\t\t\t\tonResizeStart={ ( event, direction, elt ) => {\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\twidth: parseInt( elt.offsetWidth, 10 ),\n\t\t\t\t\t\twidthUnit: 'px',\n\t\t\t\t\t} );\n\t\t\t\t\ttoggleSelection( false );\n\t\t\t\t} }\n\t\t\t\tonResizeStop={ ( event, direction, elt, delta ) => {\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\twidth: parseInt( width + delta.width, 10 ),\n\t\t\t\t\t} );\n\t\t\t\t\ttoggleSelection( true );\n\t\t\t\t} }\n\t\t\t\tshowHandle={ isSelected }\n\t\t\t>\n\t\t\t\t{ ( 'button-inside' === buttonPosition ||\n\t\t\t\t\t'button-outside' === buttonPosition ) && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ renderTextField() }\n\t\t\t\t\t\t{ renderButton() }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\n\t\t\t\t{ 'button-only' === buttonPosition && renderButton() }\n\t\t\t\t{ 'no-button' === buttonPosition && renderTextField() }\n\t\t\t</ResizableBox>\n\t\t</div>\n\t);\n}\n"]}