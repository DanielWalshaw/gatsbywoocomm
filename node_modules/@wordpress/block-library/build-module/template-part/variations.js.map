{"version":3,"sources":["@wordpress/block-library/src/template-part/variations.js"],"names":["footer","header","store","coreDataStore","select","__","variations","name","title","description","icon","attributes","area","scope","forEach","variation","isActive","blockAttributes","variationAttributes","theme","slug","entity","getEntityRecord"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,MAAT,EAAiBC,MAAjB,QAA+B,kBAA/B;AACA,SAASC,KAAK,IAAIC,aAAlB,QAAuC,sBAAvC;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,EAAT,QAAmB,iBAAnB;AAEA,IAAMC,UAAU,GAAG,CAClB;AACCC,EAAAA,IAAI,EAAE,QADP;AAECC,EAAAA,KAAK,EAAEH,EAAE,CAAE,QAAF,CAFV;AAGCI,EAAAA,WAAW,EAAEJ,EAAE,CACd,+KADc,CAHhB;AAMCK,EAAAA,IAAI,EAAET,MANP;AAOCU,EAAAA,UAAU,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAPb;AAQCC,EAAAA,KAAK,EAAE,CAAE,UAAF;AARR,CADkB,EAWlB;AACCN,EAAAA,IAAI,EAAE,QADP;AAECC,EAAAA,KAAK,EAAEH,EAAE,CAAE,QAAF,CAFV;AAGCI,EAAAA,WAAW,EAAEJ,EAAE,CACd,2MADc,CAHhB;AAMCK,EAAAA,IAAI,EAAEV,MANP;AAOCW,EAAAA,UAAU,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAPb;AAQCC,EAAAA,KAAK,EAAE,CAAE,UAAF;AARR,CAXkB,CAAnB;AAuBA;AACA;AACA;AACA;AACA;;AACAP,UAAU,CAACQ,OAAX,CAAoB,UAAEC,SAAF,EAAiB;AACpC,MAAKA,SAAS,CAACC,QAAf,EAA0B;;AAC1BD,EAAAA,SAAS,CAACC,QAAV,GAAqB,UAAEC,eAAF,EAAmBC,mBAAnB,EAA4C;AAAA,QACxDN,IADwD,GAClCK,eADkC,CACxDL,IADwD;AAAA,QAClDO,KADkD,GAClCF,eADkC,CAClDE,KADkD;AAAA,QAC3CC,IAD2C,GAClCH,eADkC,CAC3CG,IAD2C,EAEhE;AACA;;AACA,QAAKR,IAAL,EAAY,OAAOA,IAAI,KAAKM,mBAAmB,CAACN,IAApC,CAJoD,CAKhE;AACA;;AACA,QAAK,CAAEQ,IAAP,EAAc,OAAO,KAAP;AACd,QAAMC,MAAM,GAAGjB,MAAM,CAAED,aAAF,CAAN,CAAwBmB,eAAxB,CACd,UADc,EAEd,kBAFc,YAGVH,KAHU,eAGEC,IAHF,EAAf;AAKA,WAAO,CAAAC,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAET,IAAR,MAAiBM,mBAAmB,CAACN,IAA5C;AACA,GAdD;AAeA,CAjBD;AAmBA,eAAeN,UAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { footer, header } from '@wordpress/icons';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { select } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\nconst variations = [\n\t{\n\t\tname: 'header',\n\t\ttitle: __( 'Header' ),\n\t\tdescription: __(\n\t\t\t\"The header template defines a page area that typically contains a title, logo, and main navigation. Since it's a global element it can be present across all pages and posts.\"\n\t\t),\n\t\ticon: header,\n\t\tattributes: { area: 'header' },\n\t\tscope: [ 'inserter' ],\n\t},\n\t{\n\t\tname: 'footer',\n\t\ttitle: __( 'Footer' ),\n\t\tdescription: __(\n\t\t\t\"The footer template defines a page area that typically contains site credits, social links, or any other combination of blocks. Since it's a global element it can be present across all pages and posts.\"\n\t\t),\n\t\ticon: footer,\n\t\tattributes: { area: 'footer' },\n\t\tscope: [ 'inserter' ],\n\t},\n];\n\n/**\n * Add `isActive` function to all `Template Part` variations, if not defined.\n * `isActive` function is used to find a variation match from a created\n *  Block by providing its attributes.\n */\nvariations.forEach( ( variation ) => {\n\tif ( variation.isActive ) return;\n\tvariation.isActive = ( blockAttributes, variationAttributes ) => {\n\t\tconst { area, theme, slug } = blockAttributes;\n\t\t// We first check the `area` block attribute which is set during insertion.\n\t\t// This property is removed on the creation of a template part.\n\t\tif ( area ) return area === variationAttributes.area;\n\t\t// Find a matching variation from the created template part\n\t\t// by checking the entity's `area` property.\n\t\tif ( ! slug ) return false;\n\t\tconst entity = select( coreDataStore ).getEntityRecord(\n\t\t\t'postType',\n\t\t\t'wp_template_part',\n\t\t\t`${ theme }//${ slug }`\n\t\t);\n\t\treturn entity?.area === variationAttributes.area;\n\t};\n} );\n\nexport default variations;\n"]}