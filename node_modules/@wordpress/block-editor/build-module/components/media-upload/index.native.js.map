{"version":3,"sources":["@wordpress/block-editor/src/components/media-upload/index.native.js"],"names":["Platform","delay","Component","React","__","Picker","getOtherMediaOptions","requestMediaPicker","mediaSources","capturePhoto","captureVideo","image","wordpress","mobile","MEDIA_TYPE_IMAGE","MEDIA_TYPE_VIDEO","MEDIA_TYPE_AUDIO","MEDIA_TYPE_ANY","OPTION_TAKE_VIDEO","OPTION_TAKE_PHOTO","OPTION_TAKE_PHOTO_OR_VIDEO","PICKER_OPENING_DELAY","MediaUpload","props","onPickerPresent","bind","onPickerSelect","getAllSources","state","otherMediaOptions","allowedTypes","autoOpen","otherMediaOptionsWithIcons","map","option","requiresModal","types","id","value","setState","cameraImageSource","deviceCamera","label","icon","cameraVideoSource","deviceLibrarySource","deviceLibrary","siteLibrarySource","siteMediaLibrary","mediaLibrary","internalSources","concat","__experimentalOnlyMediaLibrary","filter","source","some","allowedType","includes","getChooseFromDeviceIcon","isIOS","OS","picker","presentPicker","onSelect","multiple","mediaSource","shift","type","media","isReplacingMedia","isOneType","length","isImage","isVideo","isAudio","isAnyType","isImageOrVideo","pickerTitle","getMediaOptions","instance","getMediaOptionsItems","render","open"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { Platform } from 'react-native';\n\nimport { delay } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component, React } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Picker } from '@wordpress/components';\nimport {\n\tgetOtherMediaOptions,\n\trequestMediaPicker,\n\tmediaSources,\n} from '@wordpress/react-native-bridge';\nimport {\n\tcapturePhoto,\n\tcaptureVideo,\n\timage,\n\twordpress,\n\tmobile,\n} from '@wordpress/icons';\n\nexport const MEDIA_TYPE_IMAGE = 'image';\nexport const MEDIA_TYPE_VIDEO = 'video';\nexport const MEDIA_TYPE_AUDIO = 'audio';\nexport const MEDIA_TYPE_ANY = 'any';\n\nexport const OPTION_TAKE_VIDEO = __( 'Take a Video' );\nexport const OPTION_TAKE_PHOTO = __( 'Take a Photo' );\nexport const OPTION_TAKE_PHOTO_OR_VIDEO = __( 'Take a Photo or Video' );\n\nconst PICKER_OPENING_DELAY = 200;\n\nexport class MediaUpload extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.onPickerPresent = this.onPickerPresent.bind( this );\n\t\tthis.onPickerSelect = this.onPickerSelect.bind( this );\n\t\tthis.getAllSources = this.getAllSources.bind( this );\n\t\tthis.state = {\n\t\t\totherMediaOptions: [],\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { allowedTypes = [], autoOpen } = this.props;\n\t\tgetOtherMediaOptions( allowedTypes, ( otherMediaOptions ) => {\n\t\t\tconst otherMediaOptionsWithIcons = otherMediaOptions.map(\n\t\t\t\t( option ) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...option,\n\t\t\t\t\t\trequiresModal: true,\n\t\t\t\t\t\ttypes: allowedTypes,\n\t\t\t\t\t\tid: option.value,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tthis.setState( { otherMediaOptions: otherMediaOptionsWithIcons } );\n\t\t} );\n\n\t\tif ( autoOpen ) {\n\t\t\tthis.onPickerPresent();\n\t\t}\n\t}\n\n\tgetAllSources() {\n\t\tconst cameraImageSource = {\n\t\t\tid: mediaSources.deviceCamera, // ID is the value sent to native\n\t\t\tvalue: mediaSources.deviceCamera + '-IMAGE', // This is needed to diferenciate image-camera from video-camera sources.\n\t\t\tlabel: __( 'Take a Photo' ),\n\t\t\trequiresModal: true,\n\t\t\ttypes: [ MEDIA_TYPE_IMAGE ],\n\t\t\ticon: capturePhoto,\n\t\t};\n\n\t\tconst cameraVideoSource = {\n\t\t\tid: mediaSources.deviceCamera,\n\t\t\tvalue: mediaSources.deviceCamera,\n\t\t\tlabel: __( 'Take a Video' ),\n\t\t\trequiresModal: true,\n\t\t\ttypes: [ MEDIA_TYPE_VIDEO ],\n\t\t\ticon: captureVideo,\n\t\t};\n\n\t\tconst deviceLibrarySource = {\n\t\t\tid: mediaSources.deviceLibrary,\n\t\t\tvalue: mediaSources.deviceLibrary,\n\t\t\tlabel: __( 'Choose from device' ),\n\t\t\trequiresModal: true,\n\t\t\ttypes: [ MEDIA_TYPE_IMAGE, MEDIA_TYPE_VIDEO ],\n\t\t\ticon: image,\n\t\t};\n\n\t\tconst siteLibrarySource = {\n\t\t\tid: mediaSources.siteMediaLibrary,\n\t\t\tvalue: mediaSources.siteMediaLibrary,\n\t\t\tlabel: __( 'WordPress Media Library' ),\n\t\t\trequiresModal: true,\n\t\t\ttypes: [\n\t\t\t\tMEDIA_TYPE_IMAGE,\n\t\t\t\tMEDIA_TYPE_VIDEO,\n\t\t\t\tMEDIA_TYPE_AUDIO,\n\t\t\t\tMEDIA_TYPE_ANY,\n\t\t\t],\n\t\t\ticon: wordpress,\n\t\t\tmediaLibrary: true,\n\t\t};\n\n\t\tconst internalSources = [\n\t\t\tdeviceLibrarySource,\n\t\t\tcameraImageSource,\n\t\t\tcameraVideoSource,\n\t\t\tsiteLibrarySource,\n\t\t];\n\n\t\treturn internalSources.concat( this.state.otherMediaOptions );\n\t}\n\n\tgetMediaOptionsItems() {\n\t\tconst {\n\t\t\tallowedTypes = [],\n\t\t\t__experimentalOnlyMediaLibrary,\n\t\t} = this.props;\n\n\t\treturn this.getAllSources()\n\t\t\t.filter( ( source ) => {\n\t\t\t\treturn __experimentalOnlyMediaLibrary\n\t\t\t\t\t? source.mediaLibrary\n\t\t\t\t\t: allowedTypes.some( ( allowedType ) =>\n\t\t\t\t\t\t\tsource.types.includes( allowedType )\n\t\t\t\t\t  );\n\t\t\t} )\n\t\t\t.map( ( source ) => {\n\t\t\t\treturn {\n\t\t\t\t\t...source,\n\t\t\t\t\ticon: source.icon || this.getChooseFromDeviceIcon(),\n\t\t\t\t};\n\t\t\t} );\n\t}\n\n\tgetChooseFromDeviceIcon() {\n\t\treturn mobile;\n\t}\n\n\tonPickerPresent() {\n\t\tconst { autoOpen } = this.props;\n\t\tconst isIOS = Platform.OS === 'ios';\n\n\t\tif ( this.picker ) {\n\t\t\t// the delay below is required because on iOS this action sheet gets dismissed by the close event of the Inserter\n\t\t\t// so this delay allows the Inserter to be closed fully before presenting action sheet.\n\t\t\tif ( autoOpen && isIOS ) {\n\t\t\t\tdelay(\n\t\t\t\t\t() => this.picker.presentPicker(),\n\t\t\t\t\tPICKER_OPENING_DELAY\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.picker.presentPicker();\n\t\t\t}\n\t\t}\n\t}\n\n\tonPickerSelect( value ) {\n\t\tconst { allowedTypes = [], onSelect, multiple = false } = this.props;\n\t\tconst mediaSource = this.getAllSources()\n\t\t\t.filter( ( source ) => source.value === value )\n\t\t\t.shift();\n\t\tconst types = allowedTypes.filter( ( type ) =>\n\t\t\tmediaSource.types.includes( type )\n\t\t);\n\n\t\trequestMediaPicker( mediaSource.id, types, multiple, ( media ) => {\n\t\t\tif ( ( multiple && media ) || ( media && media.id ) ) {\n\t\t\t\tonSelect( media );\n\t\t\t}\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst { allowedTypes = [], isReplacingMedia, multiple } = this.props;\n\t\tconst isOneType = allowedTypes.length === 1;\n\t\tconst isImage = isOneType && allowedTypes.includes( MEDIA_TYPE_IMAGE );\n\t\tconst isVideo = isOneType && allowedTypes.includes( MEDIA_TYPE_VIDEO );\n\t\tconst isAudio = isOneType && allowedTypes.includes( MEDIA_TYPE_AUDIO );\n\t\tconst isAnyType = isOneType && allowedTypes.includes( MEDIA_TYPE_ANY );\n\n\t\tconst isImageOrVideo =\n\t\t\tallowedTypes.length === 2 &&\n\t\t\tallowedTypes.includes( MEDIA_TYPE_IMAGE ) &&\n\t\t\tallowedTypes.includes( MEDIA_TYPE_VIDEO );\n\n\t\tlet pickerTitle;\n\t\tif ( isImage ) {\n\t\t\tif ( isReplacingMedia ) {\n\t\t\t\tpickerTitle = __( 'Replace image' );\n\t\t\t} else {\n\t\t\t\tpickerTitle = multiple\n\t\t\t\t\t? __( 'Choose images' )\n\t\t\t\t\t: __( 'Choose image' );\n\t\t\t}\n\t\t} else if ( isVideo ) {\n\t\t\tif ( isReplacingMedia ) {\n\t\t\t\tpickerTitle = __( 'Replace video' );\n\t\t\t} else {\n\t\t\t\tpickerTitle = __( 'Choose video' );\n\t\t\t}\n\t\t} else if ( isImageOrVideo ) {\n\t\t\tif ( isReplacingMedia ) {\n\t\t\t\tpickerTitle = __( 'Replace image or video' );\n\t\t\t} else {\n\t\t\t\tpickerTitle = __( 'Choose image or video' );\n\t\t\t}\n\t\t} else if ( isAudio ) {\n\t\t\tif ( isReplacingMedia ) {\n\t\t\t\tpickerTitle = __( 'Replace audio' );\n\t\t\t} else {\n\t\t\t\tpickerTitle = __( 'Choose audio' );\n\t\t\t}\n\t\t} else if ( isAnyType ) {\n\t\t\tpickerTitle = __( 'Choose file' );\n\t\t\tif ( isReplacingMedia ) {\n\t\t\t\tpickerTitle = __( 'Replace file' );\n\t\t\t} else {\n\t\t\t\tpickerTitle = __( 'Choose file' );\n\t\t\t}\n\t\t}\n\n\t\tconst getMediaOptions = () => (\n\t\t\t<Picker\n\t\t\t\ttitle={ pickerTitle }\n\t\t\t\thideCancelButton\n\t\t\t\tref={ ( instance ) => ( this.picker = instance ) }\n\t\t\t\toptions={ this.getMediaOptionsItems() }\n\t\t\t\tonChange={ this.onPickerSelect }\n\t\t\t/>\n\t\t);\n\n\t\treturn this.props.render( {\n\t\t\topen: this.onPickerPresent,\n\t\t\tgetMediaOptions,\n\t\t} );\n\t}\n}\n\nexport default MediaUpload;\n"]}